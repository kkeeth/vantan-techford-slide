---
theme: default
background: https://picsum.photos/1920/1080
class: text-center
highlighter: shiki
lineNumbers: false
info: |
  ## TypeScript + React ãƒãƒ³ã‚ºã‚ªãƒ³è¬›åº§
  ç¬¬16å›ï¼šãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒªé–‹ç™ºï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ©Ÿèƒ½ç·¨ï¼‰
fonts:
  sans: "Josefin Sans"
  serif: "Noto Sans JP"
  mono: "Fira Code"

drawings:
  persist: false
transition: slide-left
title: TypeScript/React å…¥é–€è¬›ç¾©
---

# TypeScript + React<br>ãƒãƒ³ã‚ºã‚ªãƒ³è¬›åº§

## ç¬¬16å›ï¼šãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒªé–‹ç™º<br>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ©Ÿèƒ½ç·¨

<div class="pt-12">
  <span @click="$slidev.nav.next" class="px-2 py-1 rounded cursor-pointer" hover="bg-white bg-opacity-10">
    Press Space for next page <carbon:arrow-right class="inline"/>
  </span>
</div>

<div class="abs-br m-6 flex gap-2">
  <button @click="$slidev.nav.openInEditor()" title="Open in Editor" class="text-xl slidev-icon-btn opacity-50 !border-none !hover:text-white">
    <carbon:edit />
  </button>
</div>

---
layout: section
---

# å‡ºå¸­ç¢ºèªâœ‹ï¸

---
layout: default
---

# æœ¬æ—¥ã®å†…å®¹

<Toc minDepth="2" maxDepth="2" />

<style>
h2 {
  margin: 1rem 0;
}
</style>

## ğŸ‘‰ï¸ TypeScript ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æŠ•ç¨¿ãƒ»è¡¨ç¤ºæ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã‚ˆã†ï¼

---
layout: section
---

# ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ©Ÿèƒ½ã®å®Ÿè£…

---

# ç›®æ¬¡

## 1. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æŠ•ç¨¿æ©Ÿèƒ½ã®å®Ÿè£…
## 2. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒªã‚¹ãƒˆè¡¨ç¤ºæ©Ÿèƒ½ã®å®Ÿè£…
## 3. å‰Šé™¤æ©Ÿèƒ½ã¨ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å‘ä¸Š

â€» ä»Šå›ã¯æ©Ÿèƒ½ã‚’ä½œã‚ŠãªãŒã‚‰å¿…è¦ãªå‹å®šç¾©ã‚’è¿½åŠ ã—ã¦ã„ãå®Ÿè·µçš„ãªæµã‚Œã§é€²ã‚ã¾ã™ï¼

<style>
h2 {
  margin-bottom: .5rem;
}
</style>

---

# 1. å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ

## 1.1 Message å‹ã®å®šç¾©

<div grid="~ cols-2 gap-4">
<div>

```tsx
// src/types.ts
export type Message = {
  id: string;
  text: string;
  date: string;
};
```

</div>
<div>

**å‹å®šç¾©ã®ãƒã‚¤ãƒ³ãƒˆ**
- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®åŸºæœ¬å‹ã‚’å®šç¾©
- `id`: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ä¸€æ„è­˜åˆ¥å­ï¼ˆæ–‡å­—åˆ—ï¼‰
- `text`: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æœ¬æ–‡ï¼ˆæ–‡å­—åˆ—ï¼‰
- `date`: æŠ•ç¨¿æ—¥æ™‚ï¼ˆæ–‡å­—åˆ—ï¼‰
- ç”»åƒæ©Ÿèƒ½ã¯å¾Œã§è¿½åŠ ã™ã‚‹ãŸã‚ï¼Œã“ã“ã§ã¯å«ã‚ãªã„

</div>
</div>

---

# 2. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æŠ•ç¨¿æ©Ÿèƒ½ã®å®Ÿè£…

## 2.1 ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ› UI ã®åŸºæœ¬æ§‹é€ 

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/App.tsx
  import {
    Container,
    Typography,
    Box,
    Paper,
+   TextField,
+   Stack,
+   Fab,
    useTheme,
  } from '@mui/material';
+ import { Send as SendIcon } from '@mui/icons-material';
  import type { Colors } from './types';
  import './App.css';

  const App = () => {
    const theme = useTheme();
    const colors: Colors = {
      primary: theme.palette.primary.main,
      surface: theme.palette.background.paper,
      gradient: `linear-gradient(135deg, ${theme.palette.primary.main} 0%, ${theme.palette.secondary.main} 100%)`,
    };
```

</div>
<div>

```diff
// src/App.tsx
      <Box sx={{ minHeight: '100vh' }}>
        <Container maxWidth="md">
          {/* ãƒ˜ãƒƒãƒ€ãƒ¼çœç•¥ */}

+         {/* å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ  */}
+         <Paper elevation={2}>
+           <form>
+             <Stack spacing={2}>
+               <TextField
+                 label="ä»Šã®æ°—åˆ†ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ï¼Ÿ"
+                 multiline
+                 fullWidth
+                 rows={4}
+                 variant="outlined"
+               />
+               <Fab
+                 color="primary"
+                 type="submit"
+                 size="large"
```

</div>
</div>

---

## 2.1 ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ› UI ã®åŸºæœ¬æ§‹é€ 

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/App.tsx
+               >
+                 <SendIcon />
+               </Fab>
+             </Stack>
+           </form>
+         </Paper>
        </Container>
      </Box>
    );
  };
```

</div>
<div>

**UI æ§‹æˆã®ãƒã‚¤ãƒ³ãƒˆ**
- `TextField`: Material-UI ã®æ¨™æº–å…¥åŠ›ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- `multiline`, `rows={4}`: è¤‡æ•°è¡Œå…¥åŠ›ã«å¯¾å¿œ
- `variant="outlined"`: ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³å½¢å¼
- `Stack`: ç¸¦æ–¹å‘ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- `Fab`: ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ï¼ˆã‚¢ã‚¤ã‚³ãƒ³ã®ã¿ï¼‰

</div>
</div>

---

## 2.2 å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/App.tsx
  const App = () => {
    const theme = useTheme();
    const colors: Colors = {
+     primary: theme.palette.primary.main,
+     surface: theme.palette.background.paper,
      gradient: `linear-gradient(135deg, ${theme.palette.primary.main} 0%, ${theme.palette.secondary.main} 100%)`,
    };

    return (
```

```diff
// src/main.tsx
    secondary: {
      main: '#10B981',
-   }
+   },
+   background: {
+     default: 'linear-gradient(135deg, #F0F9FF 0%, #ECFDF5 100%)',
+     paper: 'rgba(255, 255, 255, 0.95)',
+   },
+ }
```

</div>
<div>

```diff
// src/App.tsx
          {/* å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ  */}
-         <Paper elevation={2}>
+         <Paper
+           elevation={2}
+           sx={{
+             borderRadius: { xs: 2, sm: 3 },
+             p: { xs: 2, sm: 3 },
+             mb: { xs: 2, sm: 3 },
+             background: colors.surface,
+             backdropFilter: 'blur(20px)',
+             border: '1px solid rgba(59, 130, 246, 0.1)',
+           }}
+         >
            <form>
-             <Stack spacing={2}>
+             <Stack spacing={{ xs: 2, sm: 3 }}>
```

</div>
</div>

---

## 2.2 å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/App.tsx
                <TextField
                  label="ä»Šã®æ°—åˆ†ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ï¼Ÿ"
                  multiline
                  fullWidth
                  rows={4}
                  variant="outlined"
+                 sx={{
+                   '& .MuiOutlinedInput-root': {
+                     borderRadius: 2,
+                     backgroundColor: 'rgba(255, 255, 255, 0.8)',
+                     '&:hover fieldset': {
+                       borderColor: colors.primary,
+                     },
+                     '&.Mui-focused fieldset': {
+                       borderColor: colors.primary,
+                     },
+                   },
+                   '& .MuiInputLabel-root.Mui-focused': {
+                     color: colors.primary,
+                   },
+                 }}
                />
```

</div>
<div>

**ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã®ãƒã‚¤ãƒ³ãƒˆ**
- `borderRadius`: Paper ã¨ TextField ã«è§’ä¸¸ã‚’è¿½åŠ 
- `background: colors.surface`: èƒŒæ™¯è‰²ã‚’è¨­å®š
- `backdropFilter: 'blur(20px)'`: ã‚¬ãƒ©ã‚¹ãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ åŠ¹æœ
- `border: '1px solid ...'`: è–„ã„ãƒœãƒ¼ãƒ€ãƒ¼
- `backgroundColor: 'rgba(255, 255, 255, 0.8)'`: åŠé€æ˜ã®ç™½èƒŒæ™¯
- `'&:hover fieldset'`: ãƒ›ãƒãƒ¼æ™‚ã®è‰²å¤‰æ›´
- `'&.Mui-focused fieldset'`: ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ã®è‰²å¤‰æ›´

</div>
</div>

---

## 2.3 ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›çŠ¶æ…‹ã®è¿½åŠ 

<div grid="~ cols-2 gap-4">
<div>

```diff
+ import { useState, useCallback, type ChangeEvent } from 'react';
  import {
    Container,
    // ...
  } from '@mui/material';
- import type { Colors } from './types';
+ import type { Colors, Message } from './types';
  import './App.css';

  const App = () => {
    const theme = useTheme();
    const colors: Colors = {
      // çœç•¥
    };

+   const [text, setText] = useState<string>('');
+   const [messages, setMessages] = useState<Message[]>([]);
+
+   const handleTextChange = useCallback(
+     (e: ChangeEvent<HTMLInputElement>): void => {
+       setText(e.target.value);
+     },
+     [],
+   );
```

</div>
<div>

```diff
// src/App.tsx
            <TextField
              label="ä»Šã®æ°—åˆ†ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ï¼Ÿ"
              multiline
              fullWidth
              rows={4}
+             value={text}
+             onChange={handleTextChange}
            />
            <Fab
              color="primary"
              type="submit"
              size="large"
+             disabled={!text.trim()}
            >
              <SendIcon />
            </Fab>
```

ğŸ“ **`useCallback` ã®æ´»ç”¨ï¼š**
- é–¢æ•°ã‚’ãƒ¡ãƒ¢åŒ–ã—ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- ä¾å­˜é…åˆ—ãŒç©ºãªã®ã§åˆå›ã®ã¿ç”Ÿæˆ

</div>
</div>

---

## 2.4 ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æŠ•ç¨¿å‡¦ç†ã®å®Ÿè£…

<div grid="~ cols-2 gap-4">
<div>

```diff
- import { useState, useCallback, type ChangeEvent } from 'react';
+ import { useState, useCallback, type ChangeEvent, type FormEvent } from 'react';
+ import { v4 as uuidv4 } from 'uuid';

  //ï¼ˆä¸­ç•¥ï¼‰

  const App = () => {
    const [text, setText] = useState<string>('');
    const [messages, setMessages] = useState<Message[]>([]);

    // ä¸­ç•¥

+   const handlePost = useCallback(
+     (e: FormEvent<HTMLFormElement>): void => {
+       e.preventDefault();
+       // ç©ºæ–‡å­—ãƒã‚§ãƒƒã‚¯
+       if (!text.trim()) {
+         return;
+       }
+       // æ–°ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
+       const newMessage: Message = {
+         id: uuidv4(),
+         text: text.trim(),
+         date: new Date().toLocaleString(),
+       };
```

</div>
<div>

```diff
+       setMessages(prev => [newMessage, ...prev]);
+       setText('');
+     },
+     [text],
+   );

    return (
      // ... JSX
-     <form>
+     <form onSubmit={handlePost}>
        {/* TextField ã¨ Fab */}
      </form>
    );
  };
```

**é€ä¿¡å‡¦ç†ã®ãƒã‚¤ãƒ³ãƒˆ**
- `useCallback` ã§ãƒ¡ãƒ¢åŒ–ã—ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š
- ä¾å­˜é…åˆ—ã« `[text]` ã‚’æŒ‡å®š
- `React.FormEvent<HTMLFormElement>` ã§å‹å®‰å…¨ãªã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
- `e.preventDefault()` ã§ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰ã‚’é˜²æ­¢
- `uuidv4()` ã§ä¸€æ„ãª ID ã‚’ç”Ÿæˆ

</div>
</div>

---

## 2.5 ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã®è¿½åŠ 

<div grid="~ cols-2 gap-4">
<div>

```diff
+ const MAX_MESSAGE_LENGTH = 140;

  const App = () => {
    const [text, setText] = useState<string>('');
    const [messages, setMessages] = useState<Message[]>([]);

    // ä¸­ç•¥

+   const validateMessage = (str: string): string => {
+     if (!str.trim()) {
+       return 'å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
+     }
+     if (str.length > MAX_MESSAGE_LENGTH) {
+       return `${MAX_MESSAGE_LENGTH}æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„`;
+     }
+     return '';
+   };
```

</div>
<div>

```diff
    const handlePost = (e: React.FormEvent<HTMLFormElement>) => {
      e.preventDefault();

-     if (!text.trim()) {
-       return;
-     }

+     const errorMessage = validateMessage(text);
+     if (errorMessage) {
+       alert(errorMessage);
+       return;
+     }
```

**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…**
- `validateMessage` é–¢æ•°ã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯
- TypeScript ã®æ©æµã§ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒå‹å®‰å…¨

â€»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å°‚ç”¨ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª [zod](https://zod.dev/) ãªã©ã‚‚ã‚ã‚Šã¾ã™

</div>
</div>

---

# 3. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒªã‚¹ãƒˆè¡¨ç¤ºæ©Ÿèƒ½ã®å®Ÿè£…

## 3.1 ãƒªã‚¹ãƒˆè¡¨ç¤ºã«å¿…è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

<div grid="~ cols-2 gap-4">
<div>

```diff
// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºãŒå¿…è¦ã«ãªã£ãŸã®ã§è¿½åŠ ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import {
  Container,
  Typography,
  TextField,
  Stack,
  Button,
+ Card,
+ CardContent,
+ CardActions,
  Box,
  Paper,
+ Divider,
+ Chip,
} from '@mui/material';
import {
  Send as SendIcon,
+ Delete as DeleteIcon,
} from '@mui/icons-material';
```

</div>
<div>

**æ®µéšçš„ãªã‚¤ãƒ³ãƒãƒ¼ãƒˆ**
- æœ€åˆã‹ã‚‰å…¨éƒ¨ã‚¤ãƒ³ãƒãƒ¼ãƒˆã›ãšã€å¿…è¦ã«ãªã£ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§è¿½åŠ 
- `Card` ç³»ï¼šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚«ãƒ¼ãƒ‰å½¢å¼ã§è¡¨ç¤ºã—ãŸããªã£ãŸæ™‚
- `Chip`ï¼šæ—¥æ™‚è¡¨ç¤ºã‚’ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã«ã—ãŸããªã£ãŸæ™‚
- `DeleteIcon`ï¼šå‰Šé™¤æ©Ÿèƒ½ãŒå¿…è¦ã«ãªã£ãŸæ™‚

</div>
</div>

---

## 3.2 åŸºæœ¬çš„ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒªã‚¹ãƒˆã®è¡¨ç¤º

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/App.tsx
// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ ã®ä¸‹ã«è¿½åŠ 
+       {/* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒªã‚¹ãƒˆ */}
+       <Stack spacing={{ xs: 2, sm: 3 }}>
+         {messages.length === 0 ? (
+           <Paper
+             elevation={1}
+             sx={{
+               p: 4,
+               textAlign: 'center',
+               background: 'rgba(255, 255, 255, 0.7)',
+               borderRadius: 3,
+             }}
+           >
+             <Typography variant="h6" color="text.secondary" sx={{ mb: 1 }}>
+               ğŸ“ ã¾ã ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚ã‚Šã¾ã›ã‚“
+             </Typography>
+             <Typography variant="body2" color="text.secondary">
+               ä¸Šã®ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰æœ€åˆã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æŠ•ç¨¿ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼
+             </Typography>
+           </Paper>
```

</div>
<div>

```diff
// src/App.tsx
+         ) : (
+           <>
+             <Typography
+               variant="subtitle2"
+               color="text.secondary"
+               sx={{ mb: 2, textAlign: 'center' }}
+             >
+               {messages.length} ä»¶ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
+             </Typography>
+             {messages.map((message: Message) => (
+               <Card key={message.id} elevation={3}>
+                 <CardContent sx={{ p: { xs: 2, sm: 3 } }}>
+                   <Typography variant="body1">
+                     {message.text}
+                   </Typography>
+                 </CardContent>
+               </Card>
+             ))}
+           </>
+         )}
+       </Stack>
```

</div>
</div>

---

## 3.2 åŸºæœ¬çš„ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒªã‚¹ãƒˆã®è¡¨ç¤º

<div grid="~ cols-2 gap-4">
<div>

**å®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆ**
- ç©ºçŠ¶æ…‹ã®è¡¨ç¤ºã§ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å‘ä¸Š
- `map` ã§ TypeScript ã®å‹å®‰å…¨ãªãƒªã‚¹ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
- `key={message.id}` ã§ React ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- `messages.length` ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä»¶æ•°ã‚’è¡¨ç¤º
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãªã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°ï¼ˆ`xs: 2, sm: 3`ï¼‰

</div>
<div>

**TypeScript ã®ãƒã‚¤ãƒ³ãƒˆ**
- `messages.map((message: Message) => ...)` ã§å‹ã‚’æ˜ç¤º
- é…åˆ—ã®å‹å®‰å…¨ãªæ“ä½œ
- `message.id` ã¯ `number` å‹ã¨ã—ã¦å®‰å…¨ã«ä½¿ç”¨
- `message.text` ã¯ `string` å‹ã¨ã—ã¦ä¿è¨¼ã•ã‚Œã‚‹

</div>
</div>

---


## 3.3 ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚«ãƒ¼ãƒ‰ã«æ—¥æ™‚ã‚’è¿½åŠ 

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/App.tsx
              {messages.map((message: Message) => (
                <Card key={message.id} elevation={3}>
                  <CardContent sx={{ p: { xs: 2, sm: 3 } }}>
+                   <Box sx={{ mb: 2 }}>
+                     <Chip
+                       label={message.date}
+                       size="small"
+                       variant="outlined"
+                       sx={{
+                         height: 24,
+                         fontSize: '0.75rem',
+                         borderColor: colors.primary,
+                         color: colors.primary,
+                         backgroundColor: 'rgba(59, 130, 246, 0.05)',
+                       }}
+                     />
+                   </Box>
                    <Typography variant="body1">
                      {message.text}
                    </Typography>
```

</div>
<div>

**UIæ”¹å–„ã®ãƒã‚¤ãƒ³ãƒˆ**
- `Chip` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§æ—¥æ™‚ã‚’è¦–è¦šçš„ã«å¼·èª¿
- `mb: 2` ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æœ¬æ–‡ã¨ã®é–“éš”ã‚’ç¢ºä¿
- `borderColor` ã¨ `color` ã§ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã‚’é©ç”¨
- `backgroundColor` ã§åŠé€æ˜èƒŒæ™¯ã‚’è¿½åŠ 

</div>
</div>

---

## 3.4 æ—¥æ™‚è¡¨ç¤ºã®æ”¹å–„ï¼ˆç›¸å¯¾æ™‚é–“é–¢æ•°ã®è¿½åŠ ï¼‰

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/App.tsx
  const App = () => {
    const theme = useTheme();
    const colors: Colors = {
      primary: theme.palette.primary.main,
      surface: theme.palette.background.paper,
      gradient: `linear-gradient(135deg, ${theme.palette.primary.main} 0%, ${theme.palette.secondary.main} 100%)`,
    };

    const [text, setText] = useState<string>('');
    const [messages, setMessages] = useState<Message[]>([]);

+   // ã€Œâ—¯åˆ†å‰ã€è¡¨ç¤ºãŒæ¬²ã—ããªã£ãŸã®ã§é–¢æ•°ã‚’è¿½åŠ 
+   const formatRelativeTime = (date: string): string => {
+     const now = new Date();
+     const messageDate = new Date(date);
+     const diffInMinutes = Math.floor(
+       (now.getTime() - messageDate.getTime()) / (1000 * 60)
+     );
```

</div>
<div>

```diff
+     if (diffInMinutes < 1) return 'ãŸã£ãŸä»Š';
+     if (diffInMinutes < 60) return `${diffInMinutes}åˆ†å‰`;
+
+     const diffInHours = Math.floor(diffInMinutes / 60);
+     if (diffInHours < 24) return `${diffInHours}æ™‚é–“å‰`;
+
+     const diffInDays = Math.floor(diffInHours / 24);
+     if (diffInDays < 7) return `${diffInDays}æ—¥å‰`;
+
+     return messageDate.toLocaleDateString();
+   };

// ä¸­ç•¥

    <Chip
-     label={message.date}
+     label={formatRelativeTime(message.date)}
```

**æ©Ÿèƒ½æ‹¡å¼µã®ãƒã‚¤ãƒ³ãƒˆ**
- ç´”ç²‹é–¢æ•°ã¨ã—ã¦åˆ†é›¢ã™ã‚‹ã“ã¨ã§å†åˆ©ç”¨æ€§å‘ä¸Š
- ã€ŒãŸã£ãŸä»Šã€ã€Œâ—¯åˆ†å‰ã€ãªã©ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªè¡¨ç¤º
- æ®µéšçš„ãªæ”¹å–„ã§ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ã‚’ä¿ã¤

</div>
</div>

---

## 3.5 ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚«ãƒ¼ãƒ‰ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°æ”¹å–„

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/App.tsx
              {messages.map((message: Message) => (
-               <Card key={message.id} elevation={3}>
+               <Card
+                 key={message.id}
+                 elevation={3}
+                 sx={{
+                   borderRadius: { xs: 2, sm: 3 },
+                   overflow: 'hidden',
+                   background: colors.surface,
+                   backdropFilter: 'blur(20px)',
+                   border: '1px solid rgba(59, 130, 246, 0.1)',
+                   transition: 'all 0.3s ease',
+                   '&:hover': {
+                     transform: 'translateY(-4px)',
+                     boxShadow: '0 12px 30px rgba(59, 130, 246, 0.15)',
+                   },
+                 }}
+               >
                  <CardContent sx={{ p: { xs: 2, sm: 3 } }}>
```

</div>
<div>

```diff
// src/App.tsx
                    <Typography
-                     variant="body1"
+                     variant="body1"
+                     component="p"
+                     sx={{
+                       lineHeight: 1.7,
+                       color: '#1f2937',
+                       fontSize: { xs: '0.95rem', sm: '1rem' },
+                       fontWeight: 400,
+                     }}
                    >
                      {message.text}
                    </Typography>
```

**ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã®ãƒã‚¤ãƒ³ãƒˆ**
- ã‚¬ãƒ©ã‚¹ãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ åŠ¹æœï¼ˆ`backdropFilter: 'blur(20px)'`ï¼‰
- ãƒ›ãƒãƒ¼æ™‚ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆä¸Šã«æµ®ãåŠ¹æœï¼‰

</div>
</div>

---

# 4. å‰Šé™¤æ©Ÿèƒ½ã¨ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å‘ä¸Š

## 4.1 å‰Šé™¤æ©Ÿèƒ½ã®å®Ÿè£…

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/App.tsx
    const handlePost = useCallback(
      // å®Ÿè£…æ¸ˆã¿
    );

+   // å‰Šé™¤æ©Ÿèƒ½ã‚’è¿½åŠ 
+   const deleteMessage = useCallback(
+     (id: string): void => {
+       const message = messages.find((m) => m.id === id);
+       if (!message) return;
+
+       const previewText =
+         message.text.length > 20
+           ? message.text.substring(0, 20) + '...'
+           : message.text;
+
+       if (window.confirm(`ã€Œ${previewText}ã€ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ`)) {
+         setMessages((prev) => prev.filter((message) => message.id !== id));
+       }
+     },
+     [messages],
+   );
```

</div>
<div>

**å‰Šé™¤æ©Ÿèƒ½ã®ãƒã‚¤ãƒ³ãƒˆ**
- `useCallback` ã§ãƒ¡ãƒ¢åŒ–
- ä¾å­˜é…åˆ—ã« `[messages]` ã‚’æŒ‡å®š
- `find` ãƒ¡ã‚½ãƒƒãƒ‰ã§å¯¾è±¡ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å®‰å…¨ã«æ¤œç´¢
- 20æ–‡å­—ä»¥ä¸Šã®å ´åˆã¯çœç•¥è¡¨ç¤º
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- `filter` ã§ immutable ãªé…åˆ—æ›´æ–°

</div>
</div>

---

## 4.2 å‰Šé™¤ãƒœã‚¿ãƒ³ã®è¿½åŠ 

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/App.tsx
                    </Typography>
                  </CardContent>
+
+                 <Divider sx={{ borderColor: 'rgba(59, 130, 246, 0.1)' }} />
+
+                 <CardActions
+                   sx={{ justifyContent: 'flex-end', p: { xs: 1.5, sm: 2 } }}
+                 >
+                   <Button
+                     size="small"
+                     color="error"
+                     startIcon={<DeleteIcon />}
+                     onClick={() => deleteMessage(message.id)}
+                     sx={{
+                       borderRadius: 2,
+                       fontSize: { xs: '0.8rem', sm: '0.875rem' },
+                       '&:hover': {
+                         backgroundColor: 'rgba(244, 67, 54, 0.08)',
+                       },
+                     }}
+                   >
+                     å‰Šé™¤
+                   </Button>
+                 </CardActions>
                </Card>
```

</div>
<div>

**UIæ§‹æˆã®ãƒã‚¤ãƒ³ãƒˆ**
- `Divider` ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦–è¦šçš„ã«åˆ†é›¢
- `justifyContent: 'flex-end'` ã§å³å¯„ã›
- `color="error"` ã§å‰Šé™¤ã‚’ç¤ºã™èµ¤è‰²
- `startIcon` ã§ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¿½åŠ 
- ãƒ›ãƒãƒ¼æ™‚ã®èƒŒæ™¯è‰²å¤‰æ›´ã§ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

</div>
</div>

---

## 4.3 ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã®è¿½åŠ 

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/App.tsx
  const App = () => {
    const [text, setText] = useState<string>('');
    const [messages, setMessages] = useState<Message[]>([]);
+   const [isPosting, setIsPosting] = useState<boolean>(false);

    const handlePost = (e: React.FormEvent<HTMLFormElement>) => {
      e.preventDefault();

      const error = validateMessage(text);
      if (error) {
        alert(error);
        return;
      }

+     setIsPosting(true);
+
+     try {
        const newMessage: Message = {
          id: uuidv4(),
          text: text.trim(),
          date: new Date().toLocaleString(),
        };
```

</div>
<div>

```diff
// src/App.tsx
        setMessages(prev => [newMessage, ...prev]);
        setText('');
+     } finally {
+       setIsPosting(false);
+     }
    };
```

**ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ç®¡ç†**
- `isPosting` ã§æŠ•ç¨¿ä¸­ã®çŠ¶æ…‹ã‚’ç®¡ç†
- `try/finally` ã§ç¢ºå®ŸãªçŠ¶æ…‹ãƒªã‚»ãƒƒãƒˆ
- ãƒœã‚¿ãƒ³ã® disabled çŠ¶æ…‹ã§äºŒé‡é€ä¿¡é˜²æ­¢
- UX å‘ä¸Šã®ãŸã‚ã®é‡è¦ãªå®Ÿè£…

</div>
</div>

---

## 4.4 é€ä¿¡ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹åæ˜ 

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/App.tsx
              <Fab
                color="primary"
                type="submit"
                size="large"
-               disabled={!text.trim()}
+               disabled={!text.trim() || isPosting}
+               sx={{
+                 background:
+                   text.trim() && !isPosting ? colors.gradient : undefined,
+                 '&:hover': {
+                   background:
+                     text.trim() && !isPosting
+                       ? colors.gradientHover
+                       : undefined,
+                 },
+                 transition: 'all 0.3s ease',
+                 transform: text.trim() ? 'scale(1.05)' : 'scale(1)',
+               }}
              >
                <SendIcon />
              </Fab>
```

</div>
<div>

```diff
// src/main.tsx
    primary: {
      main: '#3B82F6',
+     dark: '#2563EB',
    },
    secondary: {
      main: '#10B981',
+     dark: '#059669',
    },
```

```diff
// src/App.tsx
  const colors: Colors = {
    primary: theme.palette.primary.main,
    surface: theme.palette.background.paper,
    gradient: `linear-gradient(135deg, ${theme.palette.primary.main} 0%, ${theme.palette.secondary.main} 100%)`,
+   gradientHover: `linear-gradient(135deg, ${theme.palette.primary.dark} 0%, ${theme.palette.secondary.dark} 100%)`,
  }
```

```diff
// src/types.ts
export type Colors = {
  primary: string;
  surface: string;
  gradient: string;
+ gradientHover: string;
};
```
</div>
</div>

---

# 5. æ¬¡å›ã®äºˆå‘Š


æ¬¡å›ã¯ TypeScript ã§ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ï¼š

- File API ã®å‹å®‰å…¨ãªä½¿ç”¨æ–¹æ³•
- ç”»åƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½ã®å®Ÿè£…
- ç”»åƒä»˜ããƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æŠ•ç¨¿
- ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®è¿½åŠ 
- å¿…è¦ã«ãªã£ãŸæ™‚ç‚¹ã§ `Message` å‹ã« `image?` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ 

---
layout: section
---

# ãŠç–²ã‚Œã•ã¾ã§ã—ãŸï¼ ğŸ‰

## æ¬¡å›ã¯ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã‚’ä½œã‚Šã¾ã™ï¼