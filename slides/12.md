---
theme: default
background: https://picsum.photos/1920/1080
class: text-center
highlighter: shiki
lineNumbers: true
info: |
  ## TypeScript + React ハンズオン講座
  第11-12回：React で ToDo アプリ開発
fonts:
  sans: "Josefin Sans"
  serif: "Noto Sans JP"
  mono: "Fira Code"

drawings:
  persist: false
transition: slide-left
title: TypeScript/React 入門講義
---

# TypeScript + React<br>ハンズオン講座

## 第11-12回：React で ToDo アプリ開発

<div class="pt-12">
  <span @click="$slidev.nav.next" class="px-2 py-1 rounded cursor-pointer" hover="bg-white bg-opacity-10">
    Press Space for next page <carbon:arrow-right class="inline"/>
  </span>
</div>

<div class="abs-br m-6 flex gap-2">
  <button @click="$slidev.nav.openInEditor()" title="Open in Editor" class="text-xl slidev-icon-btn opacity-50 !border-none !hover:text-white">
    <carbon:edit />
  </button>
</div>

<style>
h1 {
  background-color: #fff;
  background-image: none;
}
</style>

---
layout: section
---

# 出席確認✋️

---
layout: default
---

# 本日の内容

<Toc minDepth="2" maxDepth="2" />

<style>
h2 {
  margin: 1rem 0;
}
</style>

## 👉️ Let's ToDo アプリ「my ToDo App」のハンズオン！

---
layout: section
---

# Let's ToDo アプリ<br>「my ToDo App」ハンズオン！

---

# 目次

## 1. プロジェクトの準備
## 2. 型定義とコンポーネント設計
## 3. 基本的なコンポーネント作成
## 4. 動くアプリケーションの完成
## 5. Filter コンポーネントの実装
## 6. 機能拡張（優先度・カテゴリ）
## 7. localStorage による永続化
## 8. スタイリングの向上
## 9. GitHub Pages での公開

<style>
h2 {
  margin-bottom: .5rem;
}
</style>
---

# 1. プロジェクトの準備

## 1.1 プロジェクトの作成
まず，Vite を使用して新しい React + TypeScript プロジェクトを作成します．

```bash
# プロジェクトを作成
npm create vite@latest todo-app -- --template react-ts

# プロジェクトディレクトリに移動
cd todo-app

# 必要なパッケージをインストール
npm install

# アプリを起動
npm run dev
```

---

## 1.2 プロジェクト構造の確認
プロジェクトを作成したら，以下のような構造になっているはずです：

```
todo-app/
├── src/
│   ├── App.tsx
│   ├── App.css
│   ├── index.css
│   └── main.tsx
├── public/
├── eslint.config.js
├── index.html
├── package.json
├── README.md
├── tsconfig.json
├── tsconfig.app.json
├── tsconfig.node.json
└── vite.config.ts
```

---

## 1.3 初期化

必要なファイルを整理します💁 まずは `App.tsx` を以下のように変更してください．

```tsx
import "./App.css";

function App() {
  return (
    <>
      <div className="todo">
        <h1>ToDo App</h1>
      </div>
    </>
  );
}

export default App;
```

---

## 1.3 初期化（続き）

`index.html` にて Reset CSS を読み込みましょう．ついでに，`title` も変えちゃいます💁

```diff
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
+   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/modern-css-reset" />
-   <title>Vite + React + TS</title>
+   <title>ToDo App</title>
  </head>
```

---

## 1.3 初期化（続き）

基本的なスタイリングを追加します．`App.css` は以下の記述のみにしてください．

```css
#root {
  max-width: 1280px;
  margin: 0 auto;
  padding: 2rem;
  text-align: center;
}

.todo {
  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  padding: 20px;
  width: 400px;
  margin: 0 auto;
}

h1 {
  color: #333;
  text-align: center;
  margin-bottom: 20px;
}
```

---

# 2. 型定義とコンポーネント設計

ポケモン検索アプリで学んだ TypeScript の知識を活用して，最初から型安全な ToDo アプリを作成します💁

## 2.1 基本的な型定義の作成

まず，アプリケーション全体で使用する型を定義します：

```
src/
└── types.ts
```

基本的な Task 型から始めましょう：

```ts
// src/types.ts
export type Task = {
  id: number;
  name: string;
  isDone: boolean;
};

export type FilterType = "ALL" | "TODO" | "DONE";
```

---

## 2.2 必要なコンポーネントを考えてみよう

<br>

- **Title コンポーネント**：アプリのタイトルを表示
- **AddTask コンポーネント**：新しいタスクを追加するフォーム
- **TaskList コンポーネント**：タスクの一覧を表示・操作

## 2.3 コンポーネントディレクトリの作成

以下のディレクトリ・ファイルを作成します：

```
src/
└── components/
    ├── Title.tsx
    ├── Title.css
    ├── AddTask.tsx
    ├── AddTask.css
    ├── Tasklist.tsx
    └── TaskList.css
```

---

# 3. 基本的なコンポーネント作成

## 3.1 Title コンポーネントの作成

<div grid="~ cols-2 gap-4">
<div>

シンプルなタイトル表示コンポーネントを TypeScript で作成します：

```tsx
// src/components/Title.tsx
type TitleProps = {
  str: string;
};

const Title = ({ str }: TitleProps) => {
  return <h1>{str}</h1>;
};

export default Title;
```

</div>
<div>

`App.tsx` でインポートし，配置します💁

```diff
  import "./App.css";
+ import Title from "./components/Title";

  function App() {
    return (
      <>
        <div className="todo">
-         <h1>ToDo App</h1>
+         <Title str="ToDo App" />
        </div>
      </>
    );
  }
```

</div>
</div>

---

## 3.2 AddTask コンポーネントの作成

タスク追加用のフォームを TypeScript で作成します：

<div grid="~ cols-2 gap-4">
<div>

```tsx
// src/components/AddTask.tsx
import { FormEvent } from 'react';
import "./AddTask.css";

type AddTaskProps = {
  inputTask: string;
  setInputTask: (task: string) => void;
  handleSubmit: (e: FormEvent<HTMLFormElement>) => void;
};
```

</div>
<div>

```tsx
const AddTask = ({ inputTask, setInputTask, handleSubmit }: AddTaskProps) => {
  return (
    <div>
      <form onSubmit={handleSubmit}>
        <input
          placeholder="Add New Task"
          value={inputTask}
          onChange={(e) => setInputTask(e.target.value)}
        />
        <button disabled={inputTask.length === 0}>Submit</button>
      </form>
    </div>
  );
};

export default AddTask;
```

</div>
</div>

---

## 3.3 TaskList コンポーネントの作成

<div grid="~ cols-2 gap-4">
<div>

```tsx
// src/components/TaskList.tsx
import { Task } from '../types';
import "./TaskList.css";****

type TaskListProps = {
  taskList: Task[];
  handleTaskChange: (id: number) => void;
  handleRemoveTask: (id: number) => void;
};

const TaskList = ({
  taskList,
  handleTaskChange,
  handleRemoveTask
}: TaskListProps) => {
  return (
    <ul>
      {taskList.length === 0 ? (
        <p>タスクを追加してください</p>
      ) : (
        taskList.map((task) => (
          <li key={task.id}>
            <input
              type="checkbox"

```

</div>
<div>

```tsx
              checked={task.isDone}
              onChange={() => handleTaskChange(task.id)}
            />
            <span
              style={{ textDecoration: task.isDone ? 'line-through' : 'none' }}
            >
              {task.name}
            </span>
            <button
              className="danger"
              onClick={() => handleRemoveTask(task.id)}
            >
              ☓
            </button>
          </li>
        ))
      )}
    </ul>
  );
};

export default TaskList;
```

</div>
</div>

---

# 4. 動くアプリケーションの完成

## 4.1 App.tsx での状態管理実装

作成したコンポーネントを App.tsx で統合し，状態管理を実装します：

<div grid="~ cols-2 gap-4">
<div>

```tsx
// src/App.tsx
import { useState, FormEvent } from 'react';
import './App.css';
import Title from './components/Title';
import AddTask from './components/AddTask';
import TaskList from './components/TaskList';
import { Task } from './types';

function App() {
  const [inputTask, setInputTask] = useState('');
  const [taskList, setTaskList] = useState<Task[]>([]);
  const [id, setId] = useState(1);
```

</div>
<div>

```tsx
  // タスク追加処理
  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    if (inputTask === '') return;

    const newTask: Task = {
      id: id,
      name: inputTask,
      isDone: false,
    };

    setTaskList([...taskList, newTask]);
    setId(id + 1);
    setInputTask('');
  };
```

</div>
</div>

---

## 4.1 App.tsx での状態管理実装（続き）

タスクの状態変更と削除の処理を追加：

<div grid="~ cols-2 gap-4">
<div>

```tsx
  // タスクの完了状態を切り替え
  const handleTaskChange = (taskId: number) => {
    const newTaskList = taskList.map((task) => {
      if (task.id === taskId) {
        return { ...task, isDone: !task.isDone };
      }
      return task;
    });
    setTaskList(newTaskList);
  };

  // タスクを削除
  const handleRemoveTask = (taskId: number) => {
    const newTaskList = taskList.filter(
      (task) => task.id !== taskId
    );
    setTaskList(newTaskList);
  };
```

</div>
<div>

```tsx
  return (
    <>
      <div className="todo">
        <Title str="ToDo App" />
        <AddTask
          inputTask={inputTask}
          setInputTask={setInputTask}
          handleSubmit={handleSubmit}
        />
        <TaskList
          taskList={taskList}
          handleTaskChange={handleTaskChange}
          handleRemoveTask={handleRemoveTask}
        />
      </div>
    </>
  );
}

export default App;
```

</div>
</div>

---

## 4.2 動作確認

ここまでで基本的な ToDo アプリが完成しました！💁

**確認できる機能**：
- タスクの追加
- タスクの完了状態の切り替え（チェックボックス）
- タスクの削除
- 完了したタスクの取り消し線表示

**動作テスト**：
1. 新しいタスクを追加してみる
2. タスクをクリックして完了状態にしてみる
3. タスクを削除してみる

---

# 5. Filter コンポーネントの実装

## 5.1 フィルタリング機能の追加

基本的な ToDo アプリができたので，タスクをフィルタリングする機能を追加しましょう💁
「すべて」「未完了」「完了済み」でタスクを絞り込めるようにします．

## 5.2 Filter コンポーネントの作成

フィルタリング用のコンポーネントを作成します：

```
src/
└── components/
    ├── Filter.tsx
    └── Filter.css
```

---

## 5.2 Filter コンポーネントの作成（続き）

<div grid="~ cols-2 gap-4">
<div>

```tsx
// src/components/Filter.tsx
import './Filter.css';
import { FilterType } from '../types';

type FilterProps = {
  value: FilterType;
  onChange: (filter: FilterType) => void;
};

const Filter = ({ value, onChange }: FilterProps) => {
  const handleClick = (key: FilterType) => {
    onChange(key);
  };

  return (
    <div className="todo-filter">
      <label>
        <input
          type="radio"
          name="filter"
          defaultChecked
          className={value === 'ALL' ? 'is-active' : ''}
          onClick={() => handleClick('ALL')}
        />
        All
      </label>
```

</div>
<div>

```tsx
      <label>
        <input
          type="radio"
          name="filter"
          className={value === 'TODO' ? 'is-active' : ''}
          onClick={() => handleClick('TODO')}
        />
        ToDo
      </label>
      <label>
        <input
          type="radio"
          name="filter"
          className={value === 'DONE' ? 'is-active' : ''}
          onClick={() => handleClick('DONE')}
        />
        Done
      </label>
    </div>
  );
};

export default Filter;
```

</div>
</div>

---

## 5.3 Filter コンポーネントのスタイリング

`Filter.css` を作成してスタイリングを追加：

```css
/* src/components/Filter.css */
.todo-filter {
  display: flex;
  justify-content: center;
  margin: 1rem 0 1.2rem 0;
  gap: 0.5rem;
}

.todo-filter label {
  display: flex;
  gap: 0.2rem;
  cursor: pointer;
}
```

---

## 5.4 App.tsx にフィルター機能を追加

App.tsx にフィルター状態とロジックを追加：

<div grid="~ cols-2 gap-4">
<div>

```diff
  // src/App.tsx
  import { useState, FormEvent } from 'react';
  import './App.css';
  import Title from './components/Title';
  import AddTask from './components/AddTask';
+ import Filter from './components/Filter';
  import TaskList from './components/TaskList';
- import { Task } from './types';
+ import { Task, FilterType } from './types';

  function App() {
    const [inputTask, setInputTask] = useState('');
    const [taskList, setTaskList] = useState<Task[]>([]);
    const [id, setId] = useState(1);
+   const [filter, setFilter] = useState<FilterType>('ALL');
```

</div>
<div>

```diff
  return (
    <>
      <div className="todo">
        <Title str="ToDo App" />
        <AddTask
          inputTask={inputTask}
          setInputTask={setInputTask}
          handleSubmit={handleSubmit}
        />
+       <hr />
+       <Filter onChange={setFilter} value={filter} />
        <TaskList
          taskList={taskList}
+         filter={filter}
          handleTaskChange={handleTaskChange}
          handleRemoveTask={handleRemoveTask}
        />
      </div>
    </>
  );
```

</div>
</div>

---

## 5.5 TaskList コンポーネントにフィルター機能を追加

TaskList でフィルターに応じてタスクを絞り込む機能を追加：

<div grid="~ cols-2 gap-4">
<div>

```diff
  // src/components/TaskList.tsx
- import { Task } from '../types';
+ import { Task, FilterType } from '../types';

  type TaskListProps = {
    taskList: Task[];
+   filter: FilterType;
    handleTaskChange: (id: number) => void;
    handleRemoveTask: (id: number) => void;
  };

  const TaskList = ({
    taskList,
+   filter,
    handleTaskChange,
    handleRemoveTask
  }: TaskListProps) => {
```

</div>
<div>

```diff
+   // フィルターに応じてタスクを絞り込み
+   const displayTasks = taskList.filter(({ isDone }) => {
+     if (filter === 'ALL') return true;
+     if (filter === 'TODO') return !isDone;
+     if (filter === 'DONE') return isDone;
+   });

    return (
      <ul>
-       {taskList.length === 0 ? (
+       {displayTasks.length === 0 && filter === 'ALL' ? (
          <p>タスクを追加してください</p>
+       ) : displayTasks.length === 0 ? (
+         <p>該当するタスクがありません</p>
        ) : (
-         taskList.map((task) => (
+         displayTasks.map((task) => (
```

</div>
</div>

---

## 5.6 動作確認

フィルター機能が追加されました！💁

**確認できる機能**：
- 「All」：すべてのタスクを表示
- 「ToDo」：未完了のタスクのみ表示
- 「Done」：完了済みのタスクのみ表示

**動作テスト**：
1. いくつかタスクを追加する
2. 一部のタスクを完了状態にする
3. フィルターボタンをクリックして表示が切り替わることを確認

---

# 6. 機能拡張（優先度・カテゴリ）

## 6.1 型定義の拡張

より実用的な ToDo アプリにするため，優先度とカテゴリ機能を追加します：

<div grid="~ cols-2 gap-4">
<div>

```diff
  // src/types.ts
+ export type Priority = 'high' | 'medium' | 'low';
+ export type Category = 'work' | 'personal' | 'shopping' | 'other';

  export type Task = {
    id: number;
    name: string;
    isDone: boolean;
+   priority: Priority;
+   category: Category;
+   createdAt: Date;
  };
```

</div>
<div>

```ts
// 表示用の定数
export const PRIORITY_LABELS = {
  high: '高',
  medium: '中',
  low: '低'
} as const;

export const CATEGORY_LABELS = {
  work: '仕事',
  personal: 'プライベート',
  shopping: '買い物',
  other: 'その他'
} as const;

export const PRIORITY_COLORS = {
  high: '#ff4757',    // 赤
  medium: '#ffa502',  // オレンジ
  low: '#2ed573'      // 緑
} as const;
```

</div>
</div>

---

## 6.2 AddTask コンポーネントの拡張

優先度とカテゴリの選択機能を追加：

<div grid="~ cols-2 gap-4">
<div>

```diff
  // src/components/AddTask.tsx
+ import { Priority, Category, PRIORITY_LABELS, CATEGORY_LABELS } from '../types';

  type AddTaskProps = {
    inputTask: string;
    setInputTask: (task: string) => void;
    handleSubmit: (e: FormEvent<HTMLFormElement>) => void;
+   priority: Priority;
+   setPriority: (priority: Priority) => void;
+   category: Category;
+   setCategory: (category: Category) => void;
  };
```

</div>
<div>

```tsx
const AddTask = ({
  inputTask,
  setInputTask,
  handleSubmit,
  priority,
  setPriority,
  category,
  setCategory,
}: AddTaskProps) => {
  return (
    <div>
      <form onSubmit={handleSubmit}>
        <input
          placeholder="Add New Task"
          value={inputTask}
          onChange={(e) => setInputTask(e.target.value)}
        />
        <button disabled={inputTask.length === 0}>Submit</button>
      </form>
```

</div>
</div>

---

### 6.2 AddTask コンポーネントの拡張（続き）

優先度とカテゴリの選択UIを追加：

<div grid="~ cols-2 gap-4">
<div>

```tsx
      <div className="task-options">
        <div className="priority-section">
          <span>Priority: </span>
          {Object.entries(PRIORITY_LABELS).map(([key, label]) => (
            <label key={key}>
              <input
                type="radio"
                name="priority"
                value={key}
                checked={priority === key}
                onChange={(e) => setPriority(e.target.value as Priority)}
              />
              {label}
            </label>
          ))}
        </div>
```

</div>
<div>

```tsx
        <div className="category-section">
          <span>Category: </span>
          <select
            value={category}
            onChange={(e) => setCategory(e.target.value as Category)}
          >
            {Object.entries(CATEGORY_LABELS).map(([key, label]) => (
              <option key={key} value={key}>
                {label}
              </option>
            ))}
          </select>
        </div>
      </div>
    </div>
  );
};
```

</div>
</div>

---

## 6.3 TaskList コンポーネントの拡張

優先度とカテゴリの表示を追加：

<div grid="~ cols-2 gap-4">
<div>

```diff
  // src/components/TaskList.tsx
+ import { Task, PRIORITY_LABELS, CATEGORY_LABELS, PRIORITY_COLORS } from '../types';

  const TaskList = ({ taskList, handleTaskChange, handleRemoveTask }: TaskListProps) => {
    return (
      <ul>
        {taskList.length === 0 ? (
          <p>タスクを追加してください</p>
        ) : (
-         taskList.map((task) => (
+         taskList.map(({ id, name, isDone, priority, category }) => (
-           <li key={task.id}>
+           <li key={id}>
              <input
                type="checkbox"
-               checked={task.isDone}
-               onChange={() => handleTaskChange(task.id)}
+               checked={isDone}
+               onChange={() => handleTaskChange(id)}
              />
```

</div>
<div>

```diff
+             <span
+               className="priority-label"
+               style={{ backgroundColor: PRIORITY_COLORS[priority] }}
+             >
+               {PRIORITY_LABELS[priority]}
+             </span>
              <span
                style={{
-                 textDecoration: task.isDone ? 'line-through' : 'none'
+                 textDecoration: isDone ? 'line-through' : 'none'
                }}
              >
-               {task.name}
+               {name}
              </span>
+             <span className="category-label">
+               {CATEGORY_LABELS[category]}
+             </span>
              <button
-               onClick={() => handleRemoveTask(task.id)}
+               onClick={() => handleRemoveTask(id)}
              >
```

</div>
</div>

---

## 6.4 App.tsx の状態管理更新

新しい状態と処理を追加：

<div grid="~ cols-2 gap-4">
<div>

```diff
  // src/App.tsx
+ import { Priority, Category } from './types';

  function App() {
    const [inputTask, setInputTask] = useState('');
    const [taskList, setTaskList] = useState<Task[]>([]);
    const [id, setId] = useState(1);
+   const [priority, setPriority] = useState<Priority>('medium');
+   const [category, setCategory] = useState<Category>('work');

    const handleSubmit = (e: FormEvent<HTMLFormElement>) => {
      e.preventDefault();
      if (inputTask === '') return;

      const newTask = {
        id: id,
        name: inputTask,
        isDone: false,
+       priority,
+       category,
+       createdAt: new Date(),
      };
```

</div>
<div>

```diff
      setTaskList([...taskList, newTask]);
      setId(id + 1);
      setInputTask('');
+     setPriority('medium');
+     setCategory('work');
    };

    // 他の関数は変更なし

    return (
      <>
        <div className="todo">
          <Title str="ToDo App" />
          <AddTask
            inputTask={inputTask}
            setInputTask={setInputTask}
            handleSubmit={handleSubmit}
+           priority={priority}
+           setPriority={setPriority}
+           category={category}
+           setCategory={setCategory}
          />
```

</div>
</div>

---

# 7. localStorage による永続化

## 7.1 データの永続化

ブラウザを閉じてもタスクが残るように localStorage を実装します：

<div grid="~ cols-2 gap-4">
<div>

```diff
  // src/App.tsx
- import { useState, FormEvent } from 'react';
+ import { useState, useEffect, FormEvent } from 'react';

  function App() {
    // 初期状態の設定
    const [inputTask, setInputTask] = useState('');
    const [taskList, setTaskList] = useState<Task[]>([]);
    const [id, setId] = useState(1);
    const [priority, setPriority] = useState<Priority>('medium');
    const [category, setCategory] = useState<Category>('work');
```

</div>
<div>

```tsx
  // localStorage からデータを読み込み
  useEffect(() => {
    const items = localStorage.getItem('taskList');
    const currentId = localStorage.getItem('currentId');

    if (items) {
      const parsedItems: Task[] = JSON.parse(items);
      setTaskList(parsedItems);
    }
    if (currentId) {
      setId(Number(currentId));
    }
  }, []);
```

</div>
</div>

---

## 7.2 データ更新時の保存処理

タスクが更新されるたびに localStorage に保存する関数を作成：

<div grid="~ cols-2 gap-4">
<div>

```diff
  // タスクリストを更新し localStorage に保存
  const updateTasks = (newTaskList: Task[]) => {
    localStorage.setItem('taskList', JSON.stringify(newTaskList));
    setTaskList(newTaskList);
  };

  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {
    （中略）

-   setTaskList([...taskList, newTask]);
+   updateTasks([...taskList, newTask]);
    setId(id + 1);
    localStorage.setItem('currentId', String(id + 1));
```

```tsx
  // 更新用メソッドの追加
  const updateTasks = (newTaskList: Task[]) => {
    localStorage.setItem('taskList', JSON.stringify(newTaskList));
    setTaskList(newTaskList);
  };
```

</div>
<div>

```diff
  const handleTaskChange = (taskId: number) => {
    const newTaskList = taskList.map((task) => {
      if (task.id === taskId) {
        return { ...task, isDone: !task.isDone };
      }
      return task;
    });
-   setTaskList(newTaskList);
+   updateTasks(newTaskList);
  };

  const handleRemoveTask = (taskId: number) => {
    const newTaskList = taskList.filter(
      (task) => task.id !== taskId
    );
-   setTaskList(newTaskList);
+   updateTasks(newTaskList);
  };
```

</div>
</div>

---

# 8. スタイリングの向上

## 8.1 AddTask コンポーネントのスタイリング

<div grid="~ cols-2 gap-4">
<div>

```css
/* src/components/AddTask.css */
.task-options {
  display: flex;
  gap: 20px;
  margin: 15px 0;
  font-size: 14px;
}

.priority-section,
.category-section {
  display: flex;
  align-items: center;
  gap: 10px;
}

.priority-section label {
  display: flex;
  align-items: center;
  gap: 5px;
  margin-right: 10px;
}
```

</div>
<div>

```css
.category-section select {
  padding: 5px;
  border: 1px solid #ddd;
  border-radius: 3px;
}

form {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
}

input[type="text"] {
  flex: 1;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 5px;
  font-size: 14px;
}
```

</div>
</div>

---

## 8.2 TaskList コンポーネントのスタイリング

<div grid="~ cols-2 gap-4">
<div>

```css
/* src/components/TaskList.css */
ul {
  list-style: none;
  padding: 0;
  margin: 20px 0;
}

li {
  display: flex;
  align-items: center;
  padding: 10px;
  margin-bottom: 8px;
  background-color: #f8f9fa;
  border-radius: 5px;
  border: 1px solid #e9ecef;
}

input[type="checkbox"] {
  margin-right: 10px;
}
```

</div>
<div>

```css
.priority-label {
  font-size: 10px;
  color: white;
  padding: 2px 6px;
  border-radius: 10px;
  margin-right: 10px;
  font-weight: bold;
}

.category-label {
  font-size: 12px;
  color: #666;
  margin-left: auto;
  margin-right: 10px;
}

button {
  background-color: #ff4757;
  color: white;
  border: none;
  border-radius: 3px;
  cursor: pointer;
  padding: 5px 8px;
}
```

</div>
</div>

---


# 9. GitHub Pages での公開

## 9.1 GitHub リポジトリの準備

作成した ToDo アプリを GitHub Pages で公開しましょう💁

1. GitHub で新しいリポジトリを作成
2. リポジトリ名：`my-todo-app`（任意）
3. Public リポジトリとして作成

---

## 9.1 GitHub リポジトリの準備（続き）

```bash
# Git の初期化
git init

# リモートリポジトリを追加
git remote add origin git@github.com:{username}/{repositoryname}.git

# ファイルをステージング
git add .

# 初回コミット
git commit -m "Initial commit: ToDo app with TypeScript + React"

# メインブランチにプッシュ
git push -u origin main
```

---

## 9.2 package.json の修正

GitHub Pages で正しく動作するように設定を追加：

```diff
{
  "name": "todo-app",
  "private": true,
  "version": "0.0.0",
  "type": "module",
+ "homepage": "https://{yourusername}.github.io/my-todo-app",
  "scripts": {
    "dev": "vite",
    "build": "tsc -b && vite build",
    "lint": "eslint .",
    "preview": "vite preview"
  },
```

**注意**：`yourusername` を実際の GitHub ユーザー名に，`my-todo-app` を実際のリポジトリ名に変更してください．

---

<!-- ## 9.2.2 vite.config.ts の設定

GitHub Pages でのルーティングに対応するため設定を追加：

```diff
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vite.dev/config/
export default defineConfig({
  plugins: [react()],
+ base: '/my-todo-app/',
})
```

**注意**：`/my-todo-app/` は実際のリポジトリ名に合わせて変更してください． -->


## 9.3 デプロイの実行

```bash
# ビルド
npm run build

# ファイルをステージング
git add dist

# コミット
git commit -m "feat: build projecct and update app"

# メインブランチにプッシュ
git push -u origin main
```

このコマンドにより：
1. アプリがビルドされる（`dist` フォルダに出力）
3. ビルドされたファイルが `main` ブランチにプッシュされる

---

## 9.4 GitHub Pages の有効化

GitHub リポジトリの設定をします．

1. GitHub のリポジトリページに移動
2. `Settings` タブをクリック
3. 左サイドバーの `Pages` をクリック
4. `Source` で `Deploy from a branch` を選択
5. フォルダは `/dist` を選択
6. `Save` ボタンをクリック

数分後に以下の URL でアプリにアクセスできるようになります：
```
https://{yourusername}.github.io/my-todo-app
```

---

## 9.5 自動デプロイの設定（発展）

[GitHub Actions](https://docs.github.com/ja/actions) を使って，main ブランチにプッシュされるたびに自動でデプロイする設定も可能です：

`.github/workflows/deploy.yml` ファイルを作成：

<div grid="~ cols-2 gap-4">
<div>

```yml
name: Deploy to GitHub Pages

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout
      uses: actions/checkout@v3

    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        cache: 'npm'
```

</div>
<div>

```yml
    - name: Install dependencies
      run: npm ci

    - name: Build
      run: npm run build

    - name: Deploy to GitHub Pages
      uses: peaceiris/actions-gh-pages@v3
      if: github.ref == 'refs/heads/main'
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./dist
```

</div>
</div>

---

layout: section
---

# 完成！🎉

---

# アプリケーションの特徴

## ✅ 実装できた機能

<v-clicks>

- **タスクの追加・削除・完了状態の切り替え**
- **フィルタリング機能**（すべて・未完了・完了済み）
- **優先度とカテゴリの設定**
- **localStorage を使った永続化**
- **TypeScript による型安全性**
- **見やすいスタイリング**
- **GitHub Pages での公開**

</v-clicks>

---

# 学習のポイント

<v-clicks>

<div grid="~ cols-2 gap-4">
<div>

## 🚀 TypeScript ファーストな開発
- 最初から TypeScript で型安全な開発
- ポケモン検索アプリで学んだ知識を活用

## 🎯 TypeScript の活用
- 型定義による安全性の向上
- コンポーネント間の Props 型管理

## 🔄 React の状態管理
- useState フックによる状態管理
- useEffect による副作用の処理

</div>
<div>

## 🎨 コンポーネント設計
- 単一責任の原則に基づいた設計
- 再利用可能なコンポーネント作成

## 💾 データ永続化
- localStorage を使ったブラウザストレージ活用

## 📱 ユーザビリティ
- 直感的なインターフェース設計

</div>
</div>

</v-clicks>

---

layout: section
---

# 課題

---

# 課題：ToDo アプリの機能拡張

以下の要件を満たす機能を追加してください（デザインは問わない）：

<div grid="~ cols-2 gap-4">
<v-clicks>

## 必須課題（どれか1つ）

1. **重複チェック機能**
   - 同じ名前のタスクは追加できないようにする
   - エラーメッセージの表示

2. **一括削除機能**
   - 完了済みタスクをまとめて削除
   - 確認ダイアログの表示

3. **ソート機能**
   - 優先度別，カテゴリ別，作成日時別の並び替え

</v-clicks>

<v-clicks>

## 発展課題（挑戦したい人向け）

4. **期限機能の追加**
   - タスクに期限日を設定可能
   - 期限が近いタスクの視覚的な表示

5. **タスク編集機能**
   - 既存タスクの名前を編集可能

6. **検索機能**
   - タスク名での検索機能

</v-clicks>
</div>

---

# 提出方法

Google Drive に提出（リンクは Slack で共有します）

* 複数ファイルの方は zip 等にまとめてください💁
* ファイル名は `11-12_{名前}.{拡張子}`
  * 例：「11-12_桑原聖仁.zip」など
* 実装した機能を明記したテキストファイル（readme.txt）を含めてください

## 評価ポイント
- TypeScript の型定義の適切な使用
- コンポーネントの分割と責任の明確化
- ユーザビリティを考慮した実装
- コードの可読性

---
layout: center
class: text-center
---

# 次回予告

## 第13回：最終プロジェクト

<div class="pt-12">
  <span @click="$slidev.nav.next" class="px-2 py-1 rounded cursor-pointer" hover="bg-white bg-opacity-10">
    お疲れ様でした！次回もがんばりましょう <carbon:arrow-right class="inline"/>
  </span>
</div>