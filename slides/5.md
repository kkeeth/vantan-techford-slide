---
theme: default
background: https://picsum.photos/1920/1080
class: text-center
highlighter: shiki
lineNumbers: true
info: |
  ## TypeScript + React ãƒãƒ³ã‚ºã‚ªãƒ³è¬›åº§
  ç¬¬4-10å›ï¼šReact ã§ãƒã‚±ãƒ¢ãƒ³æ¤œç´¢ã‚¢ãƒ—ãƒªé–‹ç™º
fonts:
  sans: "Josefin Sans"
  serif: "Noto Sans JP"
  mono: "Fira Code"

drawings:
  persist: false
transition: slide-left
title: TypeScript/React å…¥é–€è¬›ç¾©
---

# TypeScript + React<br>ãƒãƒ³ã‚ºã‚ªãƒ³è¬›åº§

## ç¬¬4-10å›ï¼šReact ã§ãƒã‚±ãƒ¢ãƒ³æ¤œç´¢ã‚¢ãƒ—ãƒªé–‹ç™º

<div class="pt-12">
  <span @click="$slidev.nav.next" class="px-2 py-1 rounded cursor-pointer" hover="bg-white bg-opacity-10">
    Press Space for next page <carbon:arrow-right class="inline"/>
  </span>
</div>

<div class="abs-br m-6 flex gap-2">
  <button @click="$slidev.nav.openInEditor()" title="Open in Editor" class="text-xl slidev-icon-btn opacity-50 !border-none !hover:text-white">
    <carbon:edit />
  </button>
</div>

<style>
h1 {
  background-color: #fff;
  background-image: none;
}
</style>

---
layout: section
---

# å‡ºå¸­ç¢ºèªâœ‹ï¸

---
layout: default
---

# æœ¬æ—¥ã®å†…å®¹

<Toc minDepth="2" maxDepth="2" />

<style>
h2 {
  margin: 1rem 0;
}
</style>

## ğŸ‘‰ï¸ Let's ãƒã‚±ãƒ¢ãƒ³æ¤œç´¢ã‚¢ãƒ—ãƒªã€ŒPoke Searchã€ã®ãƒãƒ³ã‚ºã‚ªãƒ³ï¼

---
layout: section
---

# ãƒã‚±ãƒ¢ãƒ³æ¤œç´¢ã‚¢ãƒ—ãƒª<br>ã€ŒPoke Searchã€ãƒãƒ³ã‚ºã‚ªãƒ³

---

# ç›®æ¬¡

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æº–å‚™
## 2. åŸºæœ¬çš„ãªãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ã®ä½œæˆ
## 3. å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…
## 4. APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å®Ÿè£…
## 5. TypeScript å‹åŒ– + ãƒ­ã‚¸ãƒƒã‚¯ã®è¿½åŠ 
## 6. ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã®å®Ÿè£…
## 7. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Œæˆ

â€»ä»Šå›ã¯å…ˆã«ã‚¢ãƒ—ãƒªã‚’å®Ÿè£…ã—ã¦ï¼Œå¾Œã‹ã‚‰ TypeScript ã§å‹åŒ–ã—ã¾ã™ï¼

<style>
h2 {
  margin-bottom: .5rem;
}
</style>
---

# 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æº–å‚™

## 1.1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ
ã¾ãšã€Viteã‚’ä½¿ç”¨ã—ã¦æ–°ã—ã„React + TypeScriptãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
npm create vite@latest poke-search-ts -- --template react-ts

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd poke-search-ts

# å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# è¿½åŠ ã§å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install axios

# ã‚¢ãƒ—ãƒªã‚’èµ·å‹•
npm run dev
```

---

## 1.2 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®ç¢ºèª
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ãŸã‚‰ã€ä»¥ä¸‹ã®ã‚ˆã†ãªæ§‹é€ ã«ãªã£ã¦ã„ã‚‹ã¯ãšã§ã™ï¼š

```
poke-search-ts/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.tsx
â”‚   â”œâ”€â”€ App.css
â”‚   â”œâ”€â”€ index.css
â”‚   â””â”€â”€ main.tsx
â”œâ”€â”€ public/
â”œâ”€â”€ eslint.config.js
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ README.md
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tsconfig.app.json
â”œâ”€â”€ tsconfig.node.json
â””â”€â”€ vite.config.ts
```

---

## 1.3 åˆæœŸåŒ–

ã„ã‚‰ãªã„ã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤ã—ã¾ã™ğŸ’ã¾ãšã¯ `App.tsx` ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¦ãã ã•ã„ï¼

```tsx
import "./App.css";

function App() {
  return (
    <>
      <h1>PokÃ© Search</h1>
      <p className="description">Search for a PokÃ©mon by name or ID</p>
    </>
  );
}

export default App;
```

---

## 1.3 åˆæœŸåŒ–ï¼ˆç¶šãï¼‰

`index.html` ã«ã¦ ResetCSS ã‚’èª­ã¿è¾¼ã¿ã¾ã—ã‚‡ã†ï¼ã¤ã„ã§ã«ï¼Œ `title` ã‚‚å¤‰ãˆã¡ã‚ƒã„ã¾ã™ğŸ’

```diff
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
+   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/modern-css-reset" />
-   <title>Vite + React + TS</title>
+   <title>PokÃ© Search</title>
  </head>
```

---

## 1.3 åˆæœŸåŒ–ï¼ˆç¶šãï¼‰

`index.css` ã‚’ä»¥ä¸‹ã®è¨˜è¿°ã®ã¿æ®‹ã—ï¼Œæ®‹ã‚Šã¯å‰Šé™¤ã—ã¦ãã ã•ã„ğŸ’

```css
/* src/index.css */
:root {
  /* çœç•¥ã—ã¾ã™ãŒï¼Œè¨˜è¿°ã¯æ®‹ã—ã¾ã™ */
}

body {
  margin: 0;
  display: flex;
  place-items: center;
  min-width: 320px;
  min-height: 100vh;
}

@media (prefers-color-scheme: light) {
  :root {
    color: #213547;
    background-color: #ffffff;
  }
}
```

---

## 1.3 åˆæœŸåŒ–ï¼ˆç¶šãï¼‰

å¼•ãç¶šãä¸è¦ãªã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã¯å‰Šé™¤ã—ã¾ã™ğŸ’ `App.css` ã¯ä»¥ä¸‹ã®è¨˜è¿°ã®ã¿ã«ã—ã¦ãã ã•ã„ï¼

```css
#root {
  max-width: 1280px;
  margin: 0 auto;
  padding: 2rem;
  text-align: center;
}

button {
  cursor: pointer;
}

h1 {
  color: #e3350d;
  font-size: 2.2rem;
}

.description {
  color: #666;
  margin-bottom: 32px;
}
```

---

# 2. åŸºæœ¬çš„ãªãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ã®ä½œæˆ

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®ä½œæˆ

ä»¥ä¸‹ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ï¼š

```
src/
â””â”€â”€ components/
    â”œâ”€â”€ SearchForm/
    â”‚   â”œâ”€â”€ index.tsx
    â”‚   â””â”€â”€ style.css
    â”œâ”€â”€ SearchToggle/
    â”‚   â”œâ”€â”€ index.tsx
    â”‚   â””â”€â”€ style.css
    â””â”€â”€ PokemonCard/
        â”œâ”€â”€ index.tsx
        â””â”€â”€ style.css
```

---

# 3. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…

### 3.1 æ¤œç´¢ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆ

ã¾ãšã¯é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã®ã¿ğŸ’

```tsx
// src/components/SearchForm/index.tsx
const SearchForm = () => {
  // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡æ™‚ã®å‡¦ç†
  const handleSubmit = (e) => {
    e.preventDefault(); // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®é€ä¿¡å‹•ä½œã‚’é˜²æ­¢
    console.log("submit");
  };

  return (
    <form onSubmit={handleSubmit}>
      <input type="text" placeholder="Enter ID or Name" />
      <button type="submit">Search</button>
    </form>
  );
};

export default SearchForm;
```

---

### 3.1 æ¤œç´¢ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆï¼ˆç¶šãï¼‰

æ›¸ã‘ã¾ã—ãŸã‚‰ï¼Œ`App.tsx` ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ï¼Œé…ç½®ã—ã¾ã™ğŸ’

```diff
  import "./App.css";
+ import SearchForm from "./components/SearchForm";

  function App() {
    return (
      <>
        <h1>PokÃ© Search</h1>
        <p className="description">Search for a PokÃ©mon by name or ID</p>
+       <SearchForm />
      </>
    );
  }
```

---

### 3.1 æ¤œç´¢ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆï¼ˆç¶šãï¼‰

ç¶šã„ã¦ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã§ã™ï¼

```diff
+ import "./style.css";

// çœç•¥

return (
- <form onSubmit={handleSubmit}>
+ <form onSubmit={handleSubmit} className="search-form">
    <input type="text" placeholder="Enter ID or Name" />
    <button type="submit">Search</button>
  </form>
);
```

æ–°ãŸã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ä»¥ä¸‹ã‚’è¿½è¨˜

```css
/* src/components/SearchForm/style.css */
.search-form {
  display: flex;
  width: 100%;
  max-width: 360px;
}
```

---

### 3.1 æ¤œç´¢ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆï¼ˆç¶šãï¼‰

å¼•ãç¶šãè¿½è¨˜ã—ã¦ãã ã•ã„ğŸ’

<div grid="~ cols-2 gap-4">
<div>

```css
.search-form input {
  /* ä½™ç™½ã‚’ã‚ˆã—ãªã«åŸ‹ã‚ã‚‹ */
  flex: 1;
  /* å…¥åŠ›æ¬„å†…éƒ¨ã«ä½™ç™½ã‚’ã„ã‚Œã‚‹ */
  padding: 12px 16px;
  /* æ ç·šã®è‰²ã‚’æ±ºã‚ã‚‹ */
  border: 1px solid #ddd;
  /* å·¦ä¸Šï¼Œå·¦ä¸‹ã‚’è§’ä¸¸ã« */
  border-radius: 8px 0 0 8px;
  /* å…¥åŠ›æ¬„ã®ãƒ†ã‚­ã‚¹ãƒˆã‚µã‚¤ã‚ºã‚’æ±ºã‚ã‚‹ */
  font-size: 1rem;
  /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨­å®š */
  transition: border-color 0.3s;
}

.search-form input:focus {
  /* â€»ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®è¦³ç‚¹ã§è‰¯ã„ã¨ã¯è¨€ãˆãªã„ */
  outline: none;
  border-color: #3b5ca8;
}
```

</div>
<div class="mt--10">

```css
.search-form button {
  /* ãƒœã‚¿ãƒ³å†…éƒ¨ã®ä½™ç™½ */
  padding: 12px 20px;
  /* ãƒœã‚¿ãƒ³ã®èƒŒæ™¯è‰²ã¨æ–‡å­—è‰²ã‚’è¨­å®š */
  background-color: #e3350d;
  color: white;
  /* æ ç·šã‚’æ¶ˆã™ */
  border: none;
  /* å³ä¸Šï¼Œå³ä¸‹ã‚’è§’ä¸¸ã« */
  border-radius: 0 8px 8px 0;
  /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨­å®š */
  transition: background-color 0.3s;
  font-weight: bold;
}

/* ãƒã‚¦ã‚¹ã‚ªãƒ¼ãƒãƒ¼ã—ãŸã¨ãã®ã‚¹ã‚¿ã‚¤ãƒ« */
.search-form button:hover {
  background-color: #c62b09;
}

/* ãƒœã‚¿ãƒ³ãŒéæ´»æ€§ã®ã¨ãã®ã‚¹ã‚¿ã‚¤ãƒ« */
.search-form button:disabled {
  background-color: #e38f7a;
  cursor: not-allowed;  /* ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ã‚‚ç„¡åŠ¹ã« */
}
```

</div>
</div>

---

### 3.2 æ¤œç´¢ãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆ

å¼•ãç¶šãã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã£ã¦ã„ãã¾ã™ï¼ã¾ãšã¯åŸºæœ¬çš„ãªæ§‹é€ ã‹ã‚‰ğŸ’

```tsx
// src/components/SearchToggle/index.tsx
import "./style.css";

const SearchToggle = () => {
  return (
    <div className="search-toggle">
      <button type="button" className="name">
        Search by Name
      </button>
      <button type="button" className="id">
        Search by ID
      </button>
    </div>
  );
};

export default SearchToggle;
```

---

### 3.2 æ¤œç´¢ãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆï¼ˆç¶šãï¼‰

ã“ã¡ã‚‰ã‚‚ `App.tsx` ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼Œè¨­ç½®ã—ã¾ã™ï¼

```diff
  import "./App.css";
  import SearchForm from "./components/SearchForm";
+ import SearchToggle from "./components/SearchToggle";

  function App() {
    return (
      <>
        <h1>PokÃ© Search</h1>
        <p className="description">Search for a PokÃ©mon by name or ID</p>
+       <SearchToggle />
        <SearchForm />
      </>
    );
```

---

### 3.2 æ¤œç´¢ãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆï¼ˆç¶šãï¼‰

<div grid="~ cols-2 gap-4">
<div>

```css
/* src/components/SearchToggle/style.css */
.search-toggle {
  display: flex;
  justify-content: center;
  margin-bottom: 20px;
  width: 100%;
}

.search-toggle button {
  background-color: #f2f2f2;
  border: none;
  color: #333;
  padding: 10px 0;
  transition: all 0.3s;
  font-size: 1rem;
  flex: 1;
  max-width: 180px;
}
```

</div>
<div>

```css
/* ãã‚Œãã‚Œãƒœã‚¿ãƒ³ã®è§’ä¸¸ã‚’è¨­å®š */

.search-toggle button:first-child {
  border-radius: 8px 0 0 8px;
  border-right: none;
}

.search-toggle button:last-child {
  border-radius: 0 8px 8px 0;
  border-left: none;
}

/* ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãã«é©ç”¨ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ« */
.search-toggle button.active {
  background-color: #3b5ca8;
  color: white;
  border-color: #3b5ca8;
  font-weight: bold;
}
```

</div>
</div>

---

### 3.3 PokemonCardã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆ

ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºç”¨ã®PokemonCardã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ï¼ã¾ãšã¯åŸºæœ¬çš„ãªæ§‹é€ ã‹ã‚‰ğŸ’

<div grid="~ cols-2 gap-4">
<div>

```tsx
// src/components/PokemonCard/index.tsx
import "./style.css";

const PokemonCard = () => {
  return (
    <div className="pokemon-card">
      <div className="pokemon-image-grid">
        <div className="image-container">
          <img src="#" alt="" className="pokemon-sprite" />
          <span className="sprite-label">hoge</span>
        </div>
      </div>
      <div className="pokemon-info">
        <h2>Pokemon Name</h2>
        <p className="pokemon-id">#555</p>
        <div className="pokemon-types">
          <span className="type-badge">Flying</span>
        </div>
```

</div>
<div>

```tsx
        <div className="pokemon-details">
          <div className="detail-item">
            <span className="detail-label">Height:</span>
            <span>m</span>
          </div>
          <div className="detail-item">
            <span className="detail-label">Weight:</span>
            <span>kg</span>
          </div>
          <div className="detail-item">
            <span className="detail-label">Abilities:</span>
            <span>foo, bar, baz</span>
          </div>
        </div>
      </div>
    </div>
  );
};

export default PokemonCard;
```

</div>
</div>

---

### 3.3 PokemonCardã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆï¼ˆç¶šãï¼‰

ç¶šã„ã¦ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã‚’è¿½åŠ ã—ã¾ã™ğŸ’

<div grid="~ cols-2 gap-4">
<div>

```css
/* src/components/PokemonCard/style.css */
.pokemon-card {
  display: flex;
  background-color: #fff;
  border-radius: 12px;
  /* ã¯ã¿å‡ºã—ãŸã‚‰éš ã™ */
  overflow: hidden;
  /* æ–‡å­—é€šã‚Šã€ãƒœãƒƒã‚¯ã‚¹ã«å½±ã‚’ã¤ã‘ã‚‹ */
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
  transition: transform 0.3s;
  width: 100%;
  margin-top: 24px;
}
```

</div>
<div>

```css
.image-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 10px;
  background-color: rgba(255, 255, 255, 0.7);
  border-radius: 8px;
  transition: transform 0.2s;
}
.image-container:hover {
  transform: scale(1.05);
  background-color: rgba(255, 255, 255, 0.9);
}

.pokemon-sprite {
  max-width: 96px;
  height: auto;
   /* ãƒ”ã‚¯ã‚»ãƒ«ã‚¢ãƒ¼ãƒˆã‚’é®®æ˜ã«è¡¨ç¤º */
  image-rendering: pixelated;
}
```

</div>
</div>

---

### 3.3 PokemonCardã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆï¼ˆç¶šãï¼‰

<div grid="~ cols-2 gap-4">
<div>

```css
.pokemon-card:hover {
  /* ã¡ã‚‡ã£ã¨Yè»¸ï¼ˆä¸Šä¸‹ï¼‰æ–¹å‘ã®ä¸Šã«ãšã‚‰ã™ */
  transform: translateY(-5px);
}

.pokemon-image-grid {
  /* ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
  display: grid;
  /* ï¼’åˆ—ã§å¹…120pxã®ãƒˆãƒ©ãƒƒã‚¯ã‚’é…ç½® */
  grid-template-columns: repeat(2, 120px);
  /* ï¼’è¡Œã§é«˜ã•ã‚’ç­‰é–“éš”ã®ãƒˆãƒ©ãƒƒã‚¯ã‚’é…ç½® */
  grid-template-rows: repeat(2, 1fr);
  /* ä¸Šä¸‹å·¦å³ã«é‡ãªã‚‹éƒ¨åˆ†ã®ä½™ç™½ã‚’è¨­å®š */
  gap: 10px;
  flex: 0 0 40%;
  /* èƒŒæ™¯è‰²ã‚’ã¡ã‚‡ã£ã¨ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‹ã‘ã‚‹ */
  background:
    linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%);
  padding: 16px;
}
```

</div>
<div>

```css
.sprite-label {
  margin-top: 5px;
  font-size: 0.8rem;
  color: #666;
  text-align: center;
}

.pokemon-info {
  flex: 1;
  padding: 25px;
  background: linear-gradient(135deg, #ffffff 0%, #f7f7f7 100%);
  min-height: 220px; /* æœ€å°ã®é«˜ã•ã‚’ç¢ºä¿ */
}

.pokemon-info h2 {
  margin-top: 0;
  color: #333;
  display: inline-block;
  margin-right: 10px;
  font-size: 1.8rem;
}
```

</div>
</div>

----

### 3.3 PokemonCardã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆï¼ˆç¶šãï¼‰

<div grid="~ cols-2 gap-4">
<div>

```css
.pokemon-id {
  display: inline-block;
  color: #777;
  font-size: 1.4rem;
  margin-top: 0;
  font-weight: bold;
}

.pokemon-types {
  margin: 20px 0;
}

.type-badge {
  display: inline-block;
  padding: 7px 14px;
  color: white;
  border-radius: 20px;
  margin-right: 8px;
  margin-bottom: 8px; /* è¤‡æ•°è¡Œã«ãªã£ãŸã¨ãã®ä½™ç™½ */
  font-size: 0.9rem;
  text-transform: capitalize;
  font-weight: bold;
  letter-spacing: 0.5px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}
```

</div>
<div>

```css
.pokemon-details {
  margin-top: 25px;
  background-color: #f9f9f9;
  padding: 15px;
  border-radius: 8px;
}

.detail-item {
  margin-bottom: 12px;
  font-size: 1rem;
  color: #555;
}

.detail-label {
  font-weight: bold;
  margin-right: 8px;
}
```

</div>
</div>

---

# 4. APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å®Ÿè£…

<div grid="~ cols-2 gap-4">
<div>

### 4.1 APIãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä½œæˆ

ã¾ãšã€APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ğŸ’

```
src/
â””â”€â”€ api/
    â””â”€â”€ pokemonApi.ts
```

</div>
<div>

### 4.2 åŸºæœ¬çš„ãªAPIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å®Ÿè£…

ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ä»˜ãã®APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ï¼š

```ts
import axios from "axios";

// å…¥åŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®æ­£è¦è¡¨ç¾
const NUMERIC_REGEX = /^\d+$/;
const NAME_REGEX = /^[a-zA-Z-]+$/;
const BASE_URL = "https://pokeapi.co/api/v2";

// PokeAPIã‹ã‚‰ãƒã‚±ãƒ¢ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹é–¢æ•°
export const fetchPokemonByName = async (name: string) => {
  // åå‰ã¯è‹±å­—ã¨ãƒã‚¤ãƒ•ãƒ³ã®ã¿è¨±å¯
  if (!NAME_REGEX.test(name)) {
    throw new Error(
      'Invalid name format. Only letters and hyphens are allowed.'
    );
  }
```

</div>
</div>

---

### 4.2 åŸºæœ¬çš„ãªAPIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å®Ÿè£…ï¼ˆç¶šãï¼‰


```ts
  try {
    const response = await axios.get(`${BASE_URL}/pokemon/${name.toLowerCase()}`);
    return response.data;
  } catch (error) {
    console.error(error);
    throw error;
  }
};

export const fetchPokemonById = async (id: string) => {
  // IDã¯æ•°å­—ã®ã¿è¨±å¯
  if (!NUMERIC_REGEX.test(id)) {
    throw new Error('Invalid ID format. Only numbers are allowed.');
  }

  try {
    const response = await axios.get(`${BASE_URL}/pokemon/${id}`);
    return response.data;
  } catch (error) {
    console.error(error);
    throw error;
  }
};
```

---

### 4.3 SearchForm ã§APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½¿ç”¨

ä½œæˆã—ãŸAPIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’SearchFormã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼š

```diff
// src/components/SearchForm/index.tsx
  import "./style.css";
+ import { fetchPokemonById } from "../../api/pokemonApi";

  const SearchForm = () => {
-   const handleSubmit = (e) => {
+   const handleSubmit = async (e) => {
      e.preventDefault();
-     console.log('submit');
+     try {
+       // æ¤œç´¢ã‚¿ã‚¤ãƒ—ã«å¿œã˜ã¦APIã‚’å‘¼ã³åˆ†ã‘ï¼ˆå¾Œã§å®Ÿè£…ï¼‰
+       const result = await fetchPokemonById(e.target[0].value);
+       // ãƒ‡ãƒ¼ã‚¿ã®æ§‹é€ ã‚’ç¢ºèª
+       console.log('ID:', result.id);
+       console.log('åå‰:', result.name);
+     } catch (e) {
+       console.error(e.message);
+     }
    };
```

APIã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒè¡Œã‚ã‚Œã‚‹ãŸã‚ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ğŸ’

---

### 4.3 SearchForm ã§APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½¿ç”¨ï¼ˆç¶šãï¼‰

PokemonCard ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é…ç½®ã—ã¦è¡¨ç¤ºã™ã‚‹æº–å‚™

```diff
// src/components/SearchForm/index.tsx
+ import { useState } from 'react';
  import './style.css';
  import { fetchPokemonByName } from '../../api/pokemonApi';
+ import PokemonCard from '../PokemonCard';

  const SearchForm = () => {
+   const [pokemon, setPokemon] = useState(null);

    const handleSubmit = async (e) => {
      e.preventDefault(); // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®é€ä¿¡å‹•ä½œã‚’é˜²æ­¢
      try {
        const result = await fetchPokemonById(e.target[0].value);
+       setPokemon(result);
        console.log('ID:', result.id);
        console.log('åå‰:', result.name);
```

---

### 4.3 SearchForm ã§APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½¿ç”¨ï¼ˆç¶šãï¼‰

```diff
    return (
+     <>
-     <form onSubmit={handleSubmit} className="search-form">
-       <input type="text" placeholder="Enter ID or Name" />
-       <button type="submit">Search</button>
-     </form>
+       <form onSubmit={handleSubmit} className="search-form">
+         <input type="text" placeholder="Enter ID or Name" />
+         <button type="submit">Search</button>
+       </form>
+      {pokemon && <PokemonCard pokemon={pokemon} />}
+     </>
    );
```

---

### 4.4 PokemonCard ã§å–å¾—ã—ãŸå€¤ã‚’è¡¨ç¤º

```diff
  // src/components/PokemonCard/index.tsx
- const PokemonCard = () => {
+ const PokemonCard = ({ pokemon }) => {
    return (
      <div className="pokemon-card">
        <div className="pokemon-image-grid">
          <div className="image-container">
-           <img src="#" alt="" className="pokemon-sprite" />
-           <span className="sprite-label">hoge</span>
+           <img
+             src={pokemon.sprites.front_default}
+             alt="Front Default"
+             className="pokemon-sprite"
+           />
+           <span className="sprite-label">Front Default</span>
          </div>
+         <div className="image-container">
+           <img
+             src={pokemon.sprites.other.showdown.back_default}
+             alt="Back Default"
+             className="pokemon-sprite"
+           />
+           <span className="sprite-label">Back Default</span>
+         </div>
```

---

### 4.4 PokemonCard ã§å–å¾—ã—ãŸå€¤ã‚’è¡¨ç¤ºï¼ˆç¶šãï¼‰

```diff
+         <div className="image-container">
+           <img
+             src={pokemon.sprites.other.showdown.front_shiny}
+             alt="Front Shiny"
+             className="pokemon-sprite"
+           />
+           <span className="sprite-label">Front Shiny</span>
+         </div>
+         <div className="image-container">
+           <img
+             src={pokemon.sprites.other.showdown.back_shiny}
+             alt="Back Shiny"
+             className="pokemon-sprite"
+           />
+           <span className="sprite-label">Back Shiny</span>
+         </div>
        </div>
```

---

### 4.4 PokemonCard ã§å–å¾—ã—ãŸå€¤ã‚’è¡¨ç¤ºï¼ˆç¶šãï¼‰

```diff
        <div className="pokemon-info">
-         <h2>Pokemon Name</h2>
-         <p className="pokemon-id">#555</p>
+         <h2>{pokemon.name}</h2>
+         <p className="pokemon-id">#{pokemon.id}</p>
          <div className="pokemon-types">
-           <span className="type-badge">Flying</span>
+           {pokemon.types.map((typeInfo, index) => (
+             <span key={index} className="type-badge">
+               {typeInfo.type.name}
+             </span>
+           ))}
          </div>
```

---

### 4.4 PokemonCard ã§å–å¾—ã—ãŸå€¤ã‚’è¡¨ç¤ºï¼ˆç¶šãï¼‰

```diff
          <div className="pokemon-details">
            <div className="detail-item">
              <span className="detail-label">Height:</span>
-             <span>m</span>
+             <span>{(pokemon.height / 10).toFixed(1)}m</span>
            </div>
            <div className="detail-item">
              <span className="detail-label">Weight:</span>
-             <span>kg</span>
+             <span>{(pokemon.weight / 10).toFixed(1)}kg</span>
            </div>
            <div className="detail-item">
              <span className="detail-label">Abilities:</span>
-             <span>foo, bar, baz</span>
+             <span>
+               {pokemon.abilities
+                 .map((ability) => ability.ability.name)
+                 .join(", ")
+               }
+             </span>
            </div>
```

---

# 5. TypeScriptå‹åŒ– + ãƒ­ã‚¸ãƒƒã‚¯ã®è¿½åŠ 

ã“ã‚Œã¾ã§JavaScriptã§å®Ÿè£…ã—ã¦ããŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã€TypeScriptã§å‹å®‰å…¨ã«ã—ã¦ã„ãã¾ã™ğŸ’

<div grid="~ cols-2 gap-4">
<div>

### 5.1 å‹å®šç¾©ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä½œæˆ

ã¾ãšã€å‹å®šç¾©ç”¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ï¼š

```
src/
â””â”€â”€ types/
    â””â”€â”€ pokemon.ts
```

</div>
<div>

### 5.2 åŸºæœ¬çš„ãªPokemonå‹ã®å®šç¾©

æœ€å°é™ã®Pokemonå‹ã‹ã‚‰å§‹ã‚ã¾ã™ï¼š

```ts
// src/types/pokemon.ts
export type Pokemon = {
  id: number;
  name: string;
  height: number;
  weight: number;
}
```

</div>
</div>

---

### 5.3 APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å‹åŒ–

æ—¢ã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ä»˜ãã§å‹å®‰å…¨ãªAPIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒå®Ÿè£…æ¸ˆã¿ã§ã™ï¼š

```diff
  // src/api/pokemonApi.ts
+ import type { Pokemon } from '../types/pokemon';

  // å…¥åŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®æ­£è¦è¡¨ç¾
  const NUMERIC_REGEX = /^\d+$/;
  const NAME_REGEX = /^[a-zA-Z-]+$/;
  const BASE_URL = 'https://pokeapi.co/api/v2';

- export const fetchPokemonByName = async (name: string) => {
+ export const fetchPokemonByName = async (name: string): Promise<Pokemon> => {
    if (!NAME_REGEX.test(name)) {
      throw new Error(
        'Invalid name format. Only letters and hyphens are allowed.'
      );
    }

    try {
-     const response = await axios.get(`${BASE_URL}/pokemon/${name.toLowerCase()}`);
+     const response = await axios.get<Pokemon>(`${BASE_URL}/pokemon/${name.toLowerCase()}`);
      console.log('APIãƒ¬ã‚¹ãƒãƒ³ã‚¹:', response.data);
      return response.data; // å‹å®‰å…¨ãªæˆ»ã‚Šå€¤
```

---

### 5.3 APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å‹åŒ–ï¼ˆç¶šãï¼‰

```diff
- export const fetchPokemonById = async (id: string) => {
+ export const fetchPokemonById = async (id: string): Promise<Pokemon> => {
    if (!NUMERIC_REGEX.test(id)) {
      throw new Error(
        'Invalid id format. Only letters and hyphens are allowed.'
      );
    }

    try {
-     const response = await axios.get(`${BASE_URL}/pokemon/${id}`);
+     const response = await axios.get<Pokemon>(`${BASE_URL}/pokemon/${id}`);
      console.log('APIãƒ¬ã‚¹ãƒãƒ³ã‚¹:', response.data);
      return response.data; // å‹å®‰å…¨ãªæˆ»ã‚Šå€¤
```

---

### 5.4 SearchToggleå‹ã®å®šç¾©

SearchToggleã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ç”¨ã™ã‚‹å‹ã‚’å®šç¾©ã—ã¾ã™ï¼š

```diff
// src/types/pokemon.ts
  export type Pokemon = {
    id: number;
    name: string;
    height: number;
    weight: number;
  }

+ export type SearchType = "name" | "id";
```

---

### 5.5 SearchToggleã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹åŒ–

SearchToggleã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«TypeScriptå‹ã‚’è¿½åŠ ã—ã¾ã™ï¼š

```diff
  // src/components/SearchToggle/index.tsx
  import "./style.css";
+ import type { SearchType } from "../../types/pokemon";

+ type SearchToggleProps = {
+   searchType: SearchType;
+   onTypeChange: (type: SearchType) => void;
+ }

- const SearchToggle = () => {
+ const SearchToggle: = ({ searchType, onTypeChange }: SearchToggleProps) => {
    return (
      <div className="search-toggle">
-       <button type="button" className="name">
+       <button
+         type="button"
+         className={`name ${searchType === "name" ? "active" : ""}`}
+         onClick={() => onTypeChange("name")}
+       >
          Search by Name
        </button>
```

---

### 5.5 SearchToggleã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹åŒ–ï¼ˆç¶šãï¼‰

```diff
-       <button type="button" className="id">
+       <button
+         type="button"
+         className={`id ${searchType === "id" ? "active" : ""}`}
+         onClick={() => onTypeChange("id")}
+       >
          Search by ID
        </button>
      </div>
    );
  };
```

---

### 5.6 App.tsxã§ã®çŠ¶æ…‹ç®¡ç†

App.tsxã§çŠ¶æ…‹ã‚’ç®¡ç†ã—ã€SearchToggleã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«propsã‚’æ¸¡ã—ã¾ã™ï¼š


```diff
// src/App.tsx
+ import { useState } from "react";
  import "./App.css";
  import SearchForm from "./components/SearchForm";
  import SearchToggle from "./components/SearchToggle";
+ import type { SearchType } from "./types/pokemon";

  function App() {
+   const [searchType, setSearchType] = useState<SearchType>("name");

    return (
      <>
        <h1>ãƒã‚±ãƒ¢ãƒ³ã‚µãƒ¼ãƒ</h1>
-       <SearchToggle />
+       <SearchToggle searchType={searchType} onTypeChange={setSearchType} />
        <SearchForm />
      </>
    );
  }
```

---

### 5.7 PokemonCardã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹åŒ–

#### 5.7.1 è©³ç´°ãªPokemonå‹å®šç¾©ã®æ‹¡å¼µ

ç¾åœ¨ã®åŸºæœ¬çš„ãªPokemonå‹ã§ã¯ä¸ååˆ†ãªã®ã§ã€å®Ÿéš›ã«ä½¿ç”¨ã™ã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã—ã¾ã™ï¼š

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/types/pokemon.ts
  export type Pokemon = {
    id: number;
    name: string;
    height: number;
    weight: number;
+   sprites: {
+     front_default: string | undefined;
+     back_default: string | undefined;
+     front_shiny: string | undefined;
+     back_shiny: string | undefined;
+   };
+   types: {
+     type: {
+       name: string;
+       url: string;
+     };
+   }[];
```

</div>
<div>

```diff
+   abilities: {
+     ability: {
+       name: string;
+       url: string;
+     };
+   }[];
  }

  export type SearchType = "name" | "id";
```

</div>
</div>

---

#### 5.7.2 PokemonCardã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹åŒ–

è©³ç´°ãªå‹å®šç¾©ã‚’é©ç”¨ã—ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‹å®‰å…¨ã«ã—ã¾ã™ï¼š

```diff
// src/components/PokemonCard/index.tsx
  import "./style.css";
+ import type { Pokemon } from "../../types/pokemon";

+ type PokemonCardProps = {
+   pokemon: Pokemon;
+ }

- const PokemonCard = ({ pokemon }) => {
+ const PokemonCard = ({ pokemon }: PokemonCardProps) => {
    return (
      <div className="pokemon-card">
```

---

### 5.8 SearchFormã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹åŒ–

<div grid="~ cols-2 gap-4">
<div>

```diff
  // src/components/SearchForm/index.tsx
+ import type { FormEvent, ChangeEvent } from 'react';
+ import type { SearchType, Pokemon } from '../../types/pokemon';

+ type SearchFormProps = {
+   searchTerm: string;
+   searchType: SearchType;
+   onSearchTermChange: (term: string) => void;
+ };

- const SearchForm = () => {
+ const SearchForm = ({
+   searchTerm,
+   searchType,
+   onSearchTermChange,
+ }: SearchFormProps) => {
- const [pokemon, setPokemon] = useState(null);
+ const [pokemon, setPokemon] = useState<Pokemon | null>(null);

-   const handleSubmit = async (e) => {
+   const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {

+   const handleTermChange = (e: ChangeEvent<HTMLInputElement>) => {
+     onSearchTermChange(e.target.value);
+   };
```

</div>
<div>

```diff

  return (
    <>
      <form onSubmit={handleSubmit} className="search-form">
-       <input type="text" placeholder="Enter ID or Name">
+       <input
+         type={searchType === 'id' ? 'number' : 'text'}
+         placeholder={
+           searchType === 'name'
+             ? 'Enter name (e.g. pikachu)'
+             : 'Enter ID (e.g. 25)'
+         }
+         value={searchTerm}
+         onChange={handleTermChange}
+         min={searchType === 'id' ? 1 : undefined}
+       />
        <button type="submit">Search</button>
      </form>
      {pokemon && <PokemonCard pokemon={pokemon} />}
    </>
  );
};

export default SearchForm;
```

</div>
</div>

---

### 5.8 SearchFormã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹åŒ–ï¼ˆç¶šãï¼‰

`App.tsx` ã‹ã‚‰å€¤ã‚’æ¸¡ã—ï¼Œè¡¨ç¤ºã‚’ç¢ºèª

```diff
// src/App.tsx
  function App() {
    const [searchType, setSearchType] = useState<SearchType>("name");
+   const [searchTerm, setSearchTerm] = useState<string>("");

    return (
      <>
        <h1>ãƒã‚±ãƒ¢ãƒ³ã‚µãƒ¼ãƒ</h1>
        <SearchToggle
          searchType={searchType}
          onTypeChange={setSearchType}
        />
-       <SearchForm />
+       <SearchForm
+         searchType={searchType}
+         searchTerm={searchTerm}
+         onSearchTermChange={setSearchTerm}
+       />
```

---

# 6. ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã®å®Ÿè£…

å‹å®‰å…¨ãªãƒ‡ãƒ¼ã‚¿å–å¾—ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã¨ã—ã¦æŠ½å‡ºã—ã¾ã™ğŸ’

### 6.1 ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã¨ã¯

ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã¯ã€ãƒ­ã‚¸ãƒƒã‚¯ã‚’å†åˆ©ç”¨å¯èƒ½ãªå½¢ã§æŠ½å‡ºã™ã‚‹Reactã®ä»•çµ„ã¿ã§ã™ï¼š

- çŠ¶æ…‹ç®¡ç†ã¨ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰åˆ†é›¢
- è¤‡æ•°ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§åŒã˜ãƒ­ã‚¸ãƒƒã‚¯ã‚’å…±æœ‰
- ãƒ†ã‚¹ãƒˆã—ã‚„ã™ããªã‚‹
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã‚·ãƒ³ãƒ—ãƒ«ã«ãªã‚‹

---

### 6.2 usePokemonSearchãƒ•ãƒƒã‚¯ã®ä½œæˆ

```
src/
â””â”€â”€ hooks/
    â””â”€â”€ usePokemonSearch.ts
```

<br />

#### Step 1: åŸºæœ¬çš„ãªæ¤œç´¢æ©Ÿèƒ½ã®ã¿

<div grid="~ cols-2 gap-4">
<div>

```ts
import { useState, useCallback } from 'react';
import { fetchPokemonById, fetchPokemonByName } from '../api/pokemonApi';
import type { Pokemon, SearchType } from '../types/pokemon';

type UsePokemonSearchReturn = {
  pokemon: Pokemon | null;
  searchPokemon: (query: string, type: SearchType) => Promise<void>;
  clearResults: () => void;
}

export const usePokemonSearch = (): UsePokemonSearchReturn => {
  const [pokemon, setPokemon] = useState<Pokemon | null>(null);

  const searchPokemon
    = useCallback(async (query: string, type: SearchType): Promise<void> => {
```

</div>
<div>

```ts
    const result = type === 'id'
      ? await fetchPokemonById(query)
      : await fetchPokemonByName(query);

    setPokemon(result);
    return result;
  }, []);

  const clearResults = () => {
    setPokemon(null);
  };

  return {
    pokemon,
    searchPokemon,
    clearResults
  };
};
```

</div>
</div>

---

#### Step 2: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’è¿½åŠ 

æ¬¡ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’è¿½åŠ ã—ã¾ã™ã€‚

<div grid="~ cols-2 gap-4">
<div>

```diff
  type UsePokemonSearchReturn = {
    pokemon: Pokemon | null;
+   error: string | null;
    searchPokemon: (query: string, type: SearchType) => Promise<void>;
    clearResults: () => void;
  }

  export const usePokemonSearch = (): UsePokemonSearchReturn => {
    const [pokemon, setPokemon] = useState<Pokemon | null>(null);
+   const [error, setError] = useState<string | null>(null);

    const searchPokemon = useCallback(async (query: string, type: SearchType): Promise<void> => {
+     clearResults();
+
      if (!query.trim()) {
+       setError('æ¤œç´¢æ¡ä»¶ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
        return null;
      }
```

</div>
<div>

```diff
+     try {
        const result =
        // ä¸­ç•¥
+     } catch (err) {
+       setError(err.message || 'ãƒã‚±ãƒ¢ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ');
+       return null;
+     }
    }, []);

    const clearResults = () => {
      setPokemon(null);
+     setError(null);
    };

    return {
      pokemon,
+     error,
      searchPokemon,
      clearResults,
    };
```

</div>
</div>

---

# 7. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Œæˆ

### 7.1 App.tsx ã§ã®çŠ¶æ…‹ç®¡ç†çµ±åˆ

5.7ã§å®Ÿè£…ã—ãŸSearchFormã®è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã‚’App.tsxã«ç§»ç®¡ã—ã€é©åˆ‡ãªé–¢å¿ƒã®åˆ†é›¢ã‚’è¡Œã„ã¾ã™ï¼š

```diff
// src/App.tsx
+ import type { FormEvent } from 'react';
  import { useState } from 'react';
  import './App.css';
  import SearchForm from './components/SearchForm';
  import SearchToggle from './components/SearchToggle';
+ import PokemonCard from './components/PokemonCard';
  import type { SearchType } from './types/pokemon';
+ import { usePokemonSearch } from './hooks/usePokemonSearch';

  const App = () => {
    const [searchTerm, setSearchTerm] = useState<string>('');
    const [searchType, setSearchType] = useState<SearchType>('name');
+   const { pokemon, error, searchPokemon, clearResults } = usePokemonSearch();
```

<style>
  .slidev-layout li {
    line-height: 1;
  }
</style>

---

### 7.1 App.tsx ã§ã®çŠ¶æ…‹ç®¡ç†çµ±åˆï¼ˆç¶šãï¼‰

SearchFormã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’App.tsxã«ç§»ç®¡ï¼š

<div grid="~ cols-2 gap-4">
<div>

```ts
  // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ãƒãƒ³ãƒ‰ãƒ©
  const handleSubmit = async (e: FormEvent) => {
    e.preventDefault();

    // æ¤œç´¢å®Ÿè¡Œ
    await searchPokemon(searchTerm, searchType);

    // æ¤œç´¢ãŒå®Œäº†ã—ãŸã‚‰å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã‚’ã‚¯ãƒªã‚¢
    setSearchTerm('');
  };

  // æ¤œç´¢ã‚¿ã‚¤ãƒ—ãŒå¤‰æ›´ã•ã‚ŒãŸæ™‚ã«å…¥åŠ›ã‚’ã‚¯ãƒªã‚¢
  const handleTypeChange = (type: SearchType) => {
    setSearchTerm('');
    setSearchType(type);
    clearResults();
  };
```

</div>
<div>

```diff
  return (
    <div className="app">
      <h1>PokÃ© Search</h1>
      <p className="description">Search for a PokÃ©mon by name or ID</p>

      <SearchToggle
        searchType={searchType}
-       onTypeChange={setSearchType}
+       onTypeChange={handleTypeChange}
      />

      <SearchForm
        // ä¸­ç•¥
+       onSubmit={handleSubmit}
      />

+     {error && <div className="error-message">{error}</div>}
+     {pokemon && <PokemonCard pokemon={pokemon} />}
    </div>
  );
};
```

</div>
</div>

---

### 7.1 App.tsx ã§ã®çŠ¶æ…‹ç®¡ç†çµ±åˆï¼ˆç¶šãï¼‰

`SearchForm` ã® submit æ™‚ã«å®Ÿè¡Œã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç½®ãæ›ãˆã¾ã™ï¼

```diff
// src/components/SearchForm/index.tsx
  type SearchFormProps = {
    searchTerm: string;
    searchType: SearchType;
    onSearchTermChange: (term: string) => void;
+   onSubmit: (e: FormEvent) => void;
  };

  const SearchForm = ({
    searchTerm,
    searchType,
    onSearchTermChange,
+   onSubmit,
  }) => {

    // ä¸­ç•¥

-   <form onSubmit={handleSubmit} className="search-form">
+   <form onSubmit={onSubmit} className="search-form">
```

---

### 7.1 App.tsx ã§ã®çŠ¶æ…‹ç®¡ç†çµ±åˆï¼ˆç¶šãï¼‰

ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è£…é£¾ã‚’ã—ã¾ã™ï¼

```css
/* src/App.css */
.error-message {
  padding: 15px;
  background-color: #ffe6e6;
  color: #d32f2f;
  border-radius: 8px;
  margin-top: 16px;
  margin-bottom: 20px;
  text-align: center;
  font-weight: bold;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}
```

---

### 7.2 SearchForm ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ

5.7ã§å®Ÿè£…ã—ãŸè¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã‚’ App.tsx ã«ç§»ç®¡å¾Œã® SearchForm ã®ç°¡ç´ åŒ–ï¼š

```diff
// src/components/SearchForm/index.tsx
- import { useState } from 'react';
  import type { FormEvent, ChangeEvent } from 'react';
- import type { SearchType, Pokemon } from '../types/pokemon';
+ import type { SearchType } from '../types/pokemon';
  import './style.css';
- import { fetchPokemonById } from '../../api/pokemonApi';
- import PokemonCard from '../PokemonCard';

  const SearchForm = ({
    searchTerm,
    searchType,
    onSearchTermChange,
    onSubmit,
  }) => {
-   const [pokemon, setPokemon] = useState<Pokemon | null>(null);

-   const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {
-     // çœç•¥
-   };

```

---

### 7.2 SearchForm ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ

ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤ºã«ç‰¹åŒ–ï¼š


```diff
  return (
-   <>
-     <form onSubmit={onSubmit} className="search-form">
-       <input
-         // ä¸­ç•¥
-       />
-       <button type="submit">Search</button>
-     </form>
-     {pokemon && <PokemonCard pokemon={pokemon} />}
-   </>
+   <form onSubmit={onSubmit} className="search-form">
+     <input
+       // ä¸­ç•¥
+     />
+     <button type="submit">Search</button>
+   </form>
  );
};
```

---

### 7.3 Loading å‡¦ç†ã®å®Ÿè£…

æ¤œç´¢ä¸­ã®çŠ¶æ…‹ã‚’ç®¡ç†ã™ã‚‹ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å‡¦ç†ã‚’è¿½åŠ ã—ã¾ã™ã€‚

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/hooks/usePokemonSearch.ts
  type UsePokemonSearchReturn = {
    pokemon: Pokemon | null;
    error: string | null;
+   isLoading: boolean;
    searchPokemon: (query: string, type: SearchType) => Promise<Pokemon | null>;
    clearResults: () => void;
  }

  export const usePokemonSearch = (): UsePokemonSearchReturn => {
    const [pokemon, setPokemon] = useState<Pokemon | null>(null);
    const [error, setError] = useState<string | null>(null);
+   const [isLoading, setIsLoading] = useState<boolean>(false);

    const searchPokemon = useCallback(async (query: string, type: SearchType): Promise<Pokemon | null> => {
      // ä¸­ç•¥


```

</div>
<div>

```diff
      try {
+       setIsLoading(true);
        // ä¸­ç•¥
      } catch (err) {
        setError('ãƒã‚±ãƒ¢ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ');
        return null;
+     } finally {
+       setIsLoading(false);
+     }
    }, []);

  return {
    pokemon,
    error,
+   isLoading,
    searchPokemon,
    clearResults,
  };
```

</div>
</div>

---

### 7.3 Loading å‡¦ç†ã®å®Ÿè£…ï¼ˆç¶šãï¼‰

`isLoading` ã®å–å¾—

```diff
// src/App.tsx
  const App = () => {
    const [searchTerm, setSearchTerm] = useState<string>('');
    const [searchType, setSearchType] = useState<SearchType>('name');
-   const { pokemon, error, searchPokemon, clearResults } = usePokemonSearch();
+   const { pokemon, error, isLoading, searchPokemon, clearResults } =
+     usePokemonSearch();

    // ä¸­ç•¥

    <SearchForm
      searchType={searchType}
      searchTerm={searchTerm}
+     isLoading={isLoading}
      onSearchTermChange={setSearchTerm}
      onSubmit={handleSubmit}
    />

    {error && <div className="error-message">{error}</div>}
-   {pokemon && <PokemonCard pokemon={pokemon} />}
+   {pokemon && !isLoading && <PokemonCard pokemon={pokemon} />}
```

---

### 7.3 Loading å‡¦ç†ã®å®Ÿè£…ï¼ˆç¶šãï¼‰

`SearchForm` ã« `isLoading` å¤‰æ•°ã‚’æ¸¡ã™

```diff
// src/components/SearchForm/index.tsx
  type SearchFormProps = {
    searchTerm: string;
    searchType: SearchType;
+   isLoading: boolean;
    onSearchTermChange: (term: string) => void;
    onSubmit: (e: FormEvent) => void;
  };

  const SearchForm = ({
    searchTerm,
    searchType,
+   isLoading,
    onSearchTermChange,

  // ä¸­ç•¥

- <button type="submit">Search</button>
+ <button type="submit" disabled={isLoading}>
+   {isLoading ? 'Searching...' : 'Search'}
+ </button>
```

---

### 7.4 SkeletonLoader ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…

ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ä¸­ã®è¡¨ç¤ºç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆï¼š

<div grid="~ cols-2 gap-4">
<div>

```tsx
// src/components/SkeletonLoader/index.tsx
import './style.css';

const SkeletonLoader = () => (
		<div className="skeleton-card">
			<div className="skeleton-image-grid">
        <!-- â†“â†“ ã“ã“ã‹ã‚‰ -->
				<div className="image-container">
					<div className="skeleton-sprite" />
					<div className="sprite-label" style={{ visibility: "hidden" }}>
						Placeholder
					</div>
				</div>
        <!-- â†‘â†‘ ã“ã“ã¾ã§ã‚’ã‚ã¨3ã¤ -->
			</div>
```

</div>
<div>

```tsx
    <div className="skeleton-info">
      <div className="skeleton-title" />
      <div className="skeleton-types">
        <div className="skeleton-badge" />
        <div className="skeleton-badge" />
      </div>
      <div className="skeleton-details">
        <div className="skeleton-detail" />
        <div className="skeleton-detail" />
        <div className="skeleton-detail" />
      </div>
    </div>
  </div>
);

export default SkeletonLoader;
```

</div>
</div>

---

### 7.4 SkeletonLoader ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…ï¼ˆç¶šãï¼‰

<div grid="~ cols-2 gap-4">
<div>

```css
.skeleton-card {
  display: flex;
  background-color: #fff;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
  width: 100%;
  min-height: 300px;
}

.skeleton-image-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  grid-template-rows: repeat(2, 1fr);
  gap: 10px;
  flex: 0 0 40%;
  background: linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%);
  padding: 15px;
}
.skeleton-sprite {
  height: 96px;
  width: 96px;
  background-color: #f0f0f0;
  border-radius: 8px;
  animation: pulse 1.5s infinite ease-in-out;
}
```

</div>
<div>

```css
.skeleton-info {
  flex: 1;
  padding: 25px;
}

.skeleton-title {
  height: 32px;
  width: 70%;
  background-color: #f0f0f0;
  border-radius: 4px;
  margin-bottom: 20px;
  animation: pulse 1.5s infinite ease-in-out;
}

.skeleton-types {
  display: flex;
  margin: 20px 0;
}
.skeleton-badge {
  height: 30px;
  width: 80px;
  background-color: #f0f0f0;
  border-radius: 20px;
  margin-right: 10px;
  animation: pulse 1.5s infinite ease-in-out;
}
```

</div>
</div>

---

### 7.4 SkeletonLoader ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…ï¼ˆç¶šãï¼‰

```css
.skeleton-details {
  margin-top: 25px;
  background-color: #f9f9f9;
  padding: 15px;
  border-radius: 8px;
}

.skeleton-detail {
  height: 20px;
  background-color: #f0f0f0;
  border-radius: 4px;
  margin-bottom: 12px;
  animation: pulse 1.5s infinite ease-in-out;
}

.skeleton-detail:nth-child(1) {
  width: 100%;
}

.skeleton-detail:nth-child(2) {
  width: 90%;
}

.skeleton-detail:nth-child(3) {
  width: 80%;
}
```

---

### 7.4 SkeletonLoader ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®é…ç½®

App.tsx ã«ä½œæˆã—ãŸ SkeltonLoader ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é…ç½®ã—ã¾ã™ï¼

```diff
  import SearchToggle from './components/SearchToggle';
  import PokemonCard from './components/PokemonCard';
+ import SkeletonLoader from './components/SkeltonLoader';
  import type { SearchType } from './types/pokemon';

  // ä¸­ç•¥

    {error && <div className="error-message">{error}</div>}
+   {isLoading && <SkeletonLoader />}
    {pokemon && !isLoading && <PokemonCard pokemon={pokemon} />}
  </>
```

---

### 7.5 ãƒã‚±ãƒ¢ãƒ³ã‚¿ã‚¤ãƒ—ã®ã‚«ãƒ©ãƒ¼ãƒªãƒ³ã‚°æ©Ÿèƒ½

ã‚¿ã‚¤ãƒ—åˆ¥ã‚«ãƒ©ãƒ¼è¡¨ç¤ºã®å®Ÿè£…ï¼š

<div grid="~ cols-2 gap-4">
<div>

```tsx
// src/utils/typeColors.ts
export const typeColors: Record<string, string> = {
  normal: '#A8A878',
  fire: '#F08030',
  water: '#6890F0',
  electric: '#F8D030',
  grass: '#78C850',
  ice: '#98D8D8',
  fighting: '#C03028',
  poison: '#A040A0',
  ground: '#E0C068',
  flying: '#A890F0',
  psychic: '#F85888',
  bug: '#A8B820',
  rock: '#B8A038',
  ghost: '#705898',
  dragon: '#7038F8',
  dark: '#705848',
  steel: '#B8B8D0',
  fairy: '#EE99AC'
};
```

</div>
<div>

```diff
// src/components/PokemonCard.tsx
+ import { typeColors } from '../utils/typeColors';

  <div className="pokemon-types">
    {pokemon.types.map((typeInfo) => (
      <span
        key={typeInfo.type.name}
        className="type-badge"
+       style={{ backgroundColor: typeColors[typeInfo.type.name] || '#68A090' }}
      >
        {typeInfo.type.name}
      </span>
    ))}
  </div>
```

</div>
</div>

---

### 7.6 pokemonApi ã§ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ ã®çµ±åˆ

API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå±¤ã§ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã‚’å®Ÿè£…ï¼š

<div grid="~ cols-2 gap-4">
<div>

```ts
// src/types/pokemon.ts
export type AppError = {
  message: string;
  status: number | undefined;
};
```

```diff
// src/api/pokemonApi.ts
  import axios from "axios";
- import type { Pokemon } from "../types/pokemon";
+ import type { Pokemon, AppError, SearchType } from "../types/pokemon";

+ type ValidationResult = {
+   isValid: boolean;
+   errorMessage: string;
+ };
```

</div>
<div>

```diff
+ const validateInput = (query: string, type: SearchType): ValidationResult => {
+   if (!query) {
+     return {
+       isValid: false,
+       errorMessage:
+         type === 'name'
+           ? 'ãƒã‚±ãƒ¢ãƒ³åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'
+           : 'ãƒã‚±ãƒ¢ãƒ³ ID ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'
+     };
+   }
```

</div>
</div>

---

### 7.6 pokemonApi ã§ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®çµ±åˆï¼ˆç¶šãï¼‰

<div grid="~ cols-2 gap-4">
<div>

```diff
+   if (type === 'name') {
+     if (query.length < 2) {
+       return { isValid: false, errorMessage: '2æ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„' };
+     }
+     if (!NAME_REGEX.test(query)) {
+       return { isValid: false, errorMessage: 'è‹±å­—ã®ã¿å…¥åŠ›å¯èƒ½ã§ã™' };
+     }
+   } else {
+     if (!NUMERIC_REGEX.test(query) || parseInt(query, 10) < 1) {
+       return { isValid: false, errorMessage: '1ä»¥ä¸Šã®æ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„' };
+     }
+   }
+
+   return { isValid: true, errorMessage: '' };
+ };
```

</div>
<div>

```diff
  export const fetchPokemonByName = async (name: string): Promise<Pokemon> => {
-   // åå‰ã¯è‹±å­—ã¨ãƒã‚¤ãƒ•ãƒ³ã®ã¿è¨±å¯
-   if (!NAME_REGEX.test(name)) {
-     throw new Error(
-       'Invalid name format. Only letters and hyphens are allowed.',
-     );
-   }
+   // API å‘¼ã³å‡ºã—å‰ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
+   const trimmedQuery = name.trim();
+   const validation = validateInput(trimmedQuery, "name");
+   if (!validation.isValid) {
+     const validationError: AppError = {
+       message: validation.errorMessage,
+       status: 400
+     };
+     throw validationError;
+   }

    const response = await axios.get<Pokemon>(
-     `${BASE_URL}/pokemon/${name.toLowerCase()}`,
+     `${BASE_URL}/pokemon/${trimmedQuery.toLowerCase()}`,
    );

```

</div>
</div>

---

### 7.6 pokemonApi ã§ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®çµ±åˆï¼ˆç¶šãï¼‰

**è¨­è¨ˆã®åˆ©ç‚¹**

- **è²¬ä»»ã®åˆ†é›¢**: API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ã‚’ä¿è¨¼
- **æ—©æœŸæ¤œè¨¼**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å‘¼ã³å‡ºã—å‰ã«ã‚¨ãƒ©ãƒ¼ã‚’æ¤œå‡º
- **çµ±ä¸€ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã‚‚ AppError å‹ã§çµ±ä¸€
- **å†åˆ©ç”¨æ€§**: ã©ã“ã‹ã‚‰å‘¼ã³å‡ºã•ã‚Œã¦ã‚‚åŒã˜ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³è¦å‰‡ãŒé©ç”¨
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: ç„¡åŠ¹ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è² è·è»½æ¸›

**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«**

- **åå‰æ¤œç´¢**: è‹±å­—ã®ã¿ã€2æ–‡å­—ä»¥ä¸Š
- **ID æ¤œç´¢**: 1-1010ã®æ•°å€¤ã®ã¿
- **å…±é€š**: ç©ºå…¥åŠ›ãƒã‚§ãƒƒã‚¯ã€å‹ã«å¿œã˜ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

---

### 7.7 å‹å®‰å…¨ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ fetch ã®çµ±åˆ

ã‚¨ãƒ©ãƒ¼å‹ã‚’ä½¿ã£ãŸå®‰å…¨ãª API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ä¿®æ­£:

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/api/pokemonApi.ts
- import axios from "axios";
+ import axios, { AxiosError } from "axios";
  import type { Pokemon, AppError, SearchType } from "../types/pokemon";

  const BASE_URL = 'https://pokeapi.co/api/v2';

- export const fetchPokemonByName = async (name: string): Promise<Pokemon> => {
+ export const fetchPokemon = async (query: string, type: SearchType): Promise<Pokemon | AppError> => {
    const trimmedQuery = query.trim();
    const validation = validateInput(query, type);

```

</div>
<div>

```diff
+     if (error instanceof AxiosError) {
+       const apiError: AppError = {
+       message:
+         error.response?.status === 404
+           ? `ãƒã‚±ãƒ¢ãƒ³ "${query}" ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`
+           : 'APIã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ',
+         status: error.response?.status,
+       };
+       throw apiError;
+     }
+     throw error;
    }
  };

- export const fetchPokemonById = async (id: string): Promise<Pokemon> => {
-  // å…¨å‰Šé™¤
- }
```

</div>
</div>

---

### 7.7 å‹å®‰å…¨ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ fetch ã®çµ±åˆï¼ˆç¶šãï¼‰

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/hooks/usePokemonSearch.ts
  import { useState, useCallback } from 'react';
- import { fetchPokemonById, fetchPokemonByName } from '../api/pokemonApi';
+ import { fetchPokemon } from '../api/pokemonApi';
- import type { Pokemon, SearchType } from '../types/pokemon';
+ import type { Pokemon, SearchType, AppError } from '../types/pokemon';

  type UsePokemonSearchReturn = {
-   pokemon: Pokemon | null;
+   pokemon: Pokemon | null | AppError;
    error: AppError | null;
    isLoading: boolean;
    searchPokemon: (query: string, type: SearchType) => Promise<void>;
    clearResults: () => void;
  };

  export const usePokemonSearch = (): UsePokemonSearchReturn => {
-   const [pokemon, setPokemon] = useState<Pokemon | null>(null);
+   const [pokemon, setPokemon] = useState<Pokemon | null | AppError>(null);
```

</div>
<div>

```diff
      try {
        setIsLoading(true);
-       const result =
-         type === 'id'
-           ? await fetchPokemonById(query)
-           : await fetchPokemonByName(query);
-       setPokemon(result);
+       const result = await fetchPokemon(query, type);
+       setPokemon(result);
```

</div>
</div>

---

### 7.8 ãƒ‡ã‚¶ã‚¤ãƒ³ã®èª¿æ•´

#### â‘ ã‚¢ãƒ—ãƒªã‚’ã‚«ãƒ¼ãƒ‰ã£ã½ã„è¦‹ãŸç›®ã«

<div grid="~ cols-2 gap-4">
<div>

`src/App.css` ã«ä»¥ä¸‹ã‚’è¿½è¨˜

```css
.app {
  max-width: 800px;
  width: 50dvw;
  margin: 40px auto;
  padding: 30px;
  font-family: Josefin Sans, Helvetica, sans-serif;
  background-color: white;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
  border-radius: 15px;
  display: flex;
  flex-direction: column;
  align-items: center;
}
```

</div>
<div>

`src/App.tsx` ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´

```diff
  return (
-   <>
+   <div className="app">
      // ä¸­ç•¥
-   </>
+   </div>
  )
```

</div>
</div>

---

#### â‘¡ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ

`SearchToggle` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰ï¼`style.css` ã«ä»¥ä¸‹ã‚’è¿½è¨˜ï¼

```css
@media (max-width: 768px) {
  .search-toggle button {
    padding: 8px 0;
    font-size: 12px;
  }
}
```

ç¶šã„ã¦ `SearchForm` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰ï¼`style.css` ã«ä»¥ä¸‹ã‚’è¿½è¨˜ï¼

```css
@media (max-width: 768px) {
  .search-form input {
    padding: 10px 12px;
    font-size: 14px;
  }

  .search-form button {
    padding: 10px;
    font-size: 12px;
  }
}
```

---

#### â‘¡ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œï¼ˆç¶šãï¼‰

`src/index.css` ã‚’å¤‰æ›´ï¼

```diff
  body {
    display: flex;
-   place-items: center;
+   justify-content: center;
+   align-items: center;
    min-width: 320px;
    min-height: 100vh;
  }
```

ç¶šã„ã¦ `src/App.css` ã‹ã‚‰ä»¥ä¸‹ã‚’å‰Šé™¤ï¼

```diff
- #root {
-   max-width: 1280px;
-   margin: 0 auto;
-   padding: 2rem;
-   text-align: center;
- }
```

---

#### â‘¡ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œï¼ˆç¶šãï¼‰

ãã®ã¾ã¾ `src/App.css` ã«ä»¥ä¸‹ã‚’è¿½è¨˜ï¼

```css
@media (max-width: 768px) {
  .app {
    padding: 20px 15px;
    margin: 20px auto;
    width: 90%;
  }

  h1 {
    font-size: 1.8rem;
  }
}

@media (max-width: 400px) {
  .app {
    padding: 15px 10px;
    margin: 10px auto;
  }

  h1 {
    font-size: 1.5rem;
  }
}
```

---

#### â‘¡ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œï¼ˆç¶šãï¼‰

ç¶šã„ã¦ `PokemonCard` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã® `style.css` ã«ä»¥ä¸‹ã‚’è¿½è¨˜ï¼

<div grid="~ cols-2 gap-4">
<div>

```css
@media (max-width: 768px) {
  .pokemon-sprite {
    max-width: 80px;
  }

  .sprite-label {
    font-size: 0.7rem;
  }
}

@media (max-width: 600px) {
  .pokemon-card,
  .skeleton-card {
    flex-direction: column;
  }

  .pokemon-image-grid {
    flex: 0 0 auto;
    width: 100%;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(2, auto);
  }

  .pokemon-info h2 {
    padding: 15px;
    font-size: 1.5rem;
  }
```

</div>
<div>

```css
  .pokemon-id {
    font-size: 1.2rem;
  }

  .type-badge {
    padding: 5px 10px;
    font-size: 0.8rem;
  }

  .detail-item {
    font-size: 0.9rem;
  }
}
```

</div>
</div>

---

#### â‘¡ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œï¼ˆç¶šãï¼‰

å¼•ãç¶šã `PokemonCard` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã® `style.css` ã«ä»¥ä¸‹ã‚’è¿½è¨˜ï¼

```css
@media (max-width: 400px) {
  .pokemon-image-grid {
    gap: 8px;
    padding: 10px;
  }

  .image-container {
    padding: 8px;
  }

  .sprite-label {
    font-size: 0.6rem;
  }

  .pokemon-info {
    padding: 1rem;
  }
}
```

---
layout: default
---

# ãƒ“ãƒ«ãƒ‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰
```bash
npm run build
```

2. ãƒ“ãƒ«ãƒ‰ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª
```bash
ls dist
```

3. ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã®é¸æŠ
- Vercel
- Netlify
- GitHub Pages
- Firebase Hosting

---
layout: section
---

# èª²é¡Œ

---

# èª²é¡Œ1: è¤‡æ•°ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’çµ„ã¿åˆã‚ã›ãŸUIå®Ÿè£…

ä»¥ä¸‹ã®è¦ä»¶ã‚’æº€ãŸã™ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ï¼ˆãƒ‡ã‚¶ã‚¤ãƒ³ã¯å•ã‚ãªã„ï¼‰ï¼š

<div grid="~ cols-2 gap-4">
<v-clicks>

1. ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ`Header`ï¼‰
   - ã‚¿ã‚¤ãƒˆãƒ«ã¨ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯ã‚’è¡¨ç¤º
   - Props: `title: string`, `links: { label: string; url: string; }[]`

2. ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ`Card`ï¼‰
   - ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜ã€ç”»åƒã‚’è¡¨ç¤º
   - Props: `title: string`, `description: string`, `imageUrl?: string`

</v-clicks>

<v-clicks>

3. ãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ`Button`ï¼‰
   - ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªãƒœã‚¿ãƒ³
   - Props: `label: string`, `onClick: () => void`, `variant?: 'primary' | 'secondary'`

4. ã“ã‚Œã‚‰ã‚’çµ„ã¿åˆã‚ã›ãŸãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ`HomePage`ï¼‰
   - ãƒ˜ãƒƒãƒ€ãƒ¼ã€è¤‡æ•°ã®ã‚«ãƒ¼ãƒ‰ã€ãƒœã‚¿ãƒ³ã‚’é…ç½®
   - çŠ¶æ…‹ç®¡ç†: ã€Œã‚‚ã£ã¨è¦‹ã‚‹ã€ãƒœã‚¿ãƒ³ã§ã‚«ãƒ¼ãƒ‰ã®è¡¨ç¤ºæ•°ã‚’å¢—ã‚„ã™

</v-clicks>
</div>

---

# èª²é¡Œ2: TypeScriptã‚’ä½¿ã£ãŸPropså‹å®šç¾©ã¨å—ã‘æ¸¡ã—

ä»¥ä¸‹ã®è¦ä»¶ã‚’æº€ãŸã™ãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ï¼š

<div grid="~ cols-2 gap-4">
<v-clicks>

1. å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ`InputField`ï¼‰
   - ãƒ©ãƒ™ãƒ«ã€ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚µãƒãƒ¼ãƒˆ
   - HTML inputã®å±æ€§ã‚’ã™ã¹ã¦ã‚µãƒãƒ¼ãƒˆï¼ˆtype, required, minLength ãªã©ï¼‰
   - Propså‹å®šç¾©: HTMLInputElementã®å±æ€§ã‚’ç¶™æ‰¿

2. ã‚»ãƒ¬ã‚¯ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ`SelectField`ï¼‰
   - ãƒ©ãƒ™ãƒ«ã¨ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒªã‚¹ãƒˆã‚’ã‚µãƒãƒ¼ãƒˆ
   - Propså‹å®šç¾©: ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®å‹ã¯ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã‚’ä½¿ç”¨ï¼ˆæ–‡å­—åˆ—ã¾ãŸã¯æ•°å€¤ï¼‰

</v-clicks>

<v-clicks>

3. ãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ`UserForm`ï¼‰
   - åå‰ã€ãƒ¡ãƒ¼ãƒ«ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¿ã‚¤ãƒ—ã‚’å…¥åŠ›ã™ã‚‹ãƒ•ã‚©ãƒ¼ãƒ 
   - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ï¼ˆåå‰ã¯3æ–‡å­—ä»¥ä¸Šã€ãƒ¡ãƒ¼ãƒ«ã¯@ã‚’å«ã‚€ï¼‰
   - é€ä¿¡ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯æ™‚ã«å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¡¨ç¤º

</v-clicks>
</div>

---
layout: default
---

# æå‡ºæ–¹æ³•

## æå‡ºæ–¹æ³•

Google Drive ã«æå‡ºï¼ˆãƒªãƒ³ã‚¯ã¯ Slack ã§å…±æœ‰ã—ã¾ã™ï¼‰

* 1ãƒ•ã‚¡ã‚¤ãƒ«ã®æ–¹ã¯ãã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãŠãã‚‰ã tsxï¼‰ã‚’æå‡ºã—ã¦ãã ã•ã„ğŸ’
* è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®æ–¹ã¯ zip ç­‰ã«ã¾ã¨ã‚ã¦ãã ã•ã„ğŸ’
* ãƒ•ã‚¡ã‚¤ãƒ«åã¯ `4_{åå‰}.{æ‹¡å¼µå­}`
  * ä¾‹ï¼šã€Œ4_æ¡‘åŸè–ä».tsxã€, ã€Œ4_æ¡‘åŸè–ä».zipã€

---
layout: center
class: text-center
---

# æ¬¡å›äºˆå‘Š

## ç¬¬11å›ï¼šTBD

<div class="pt-12">
  <span @click="$slidev.nav.next" class="px-2 py-1 rounded cursor-pointer" hover="bg-white bg-opacity-10">
    èª²é¡Œã«å–ã‚Šçµ„ã‚“ã§æ¬¡å›ã®è¬›ç¾©ã«å‚™ãˆã¾ã—ã‚‡ã† <carbon:arrow-right class="inline"/>
  </span>
</div>