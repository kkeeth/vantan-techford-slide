---
theme: default
background: https://picsum.photos/1920/1080
class: text-center
highlighter: shiki
lineNumbers: true
info: |
  ## TypeScript + React ハンズオン講座
  第15回：チャットアプリ開発（プロジェクトセットアップと基本UI編）
fonts:
  sans: "Josefin Sans"
  serif: "Noto Sans JP"
  mono: "Fira Code"

drawings:
  persist: false
transition: slide-left
title: TypeScript/React 入門講義
---

# TypeScript + React<br>ハンズオン講座

## 第15回：チャットアプリ開発<br>プロジェクトセットアップと基本UI編

<div class="pt-12">
  <span @click="$slidev.nav.next" class="px-2 py-1 rounded cursor-pointer" hover="bg-white bg-opacity-10">
    Press Space for next page <carbon:arrow-right class="inline"/>
  </span>
</div>

<div class="abs-br m-6 flex gap-2">
  <button @click="$slidev.nav.openInEditor()" title="Open in Editor" class="text-xl slidev-icon-btn opacity-50 !border-none !hover:text-white">
    <carbon:edit />
  </button>
</div>

---
layout: section
---

# 出席確認✋️

---
layout: default
---

# 本日の内容

<Toc minDepth="2" maxDepth="2" />

<style>
h2 {
  margin: 1rem 0;
}
</style>

## 👉️ TypeScript でチャットアプリ「My Chat App」を作ろう！

---
layout: section
---

# TypeScript でチャットアプリ<br>「My Chat App」開発開始！

---

# 目次

## 1. TypeScript プロジェクトのセットアップ
## 2. Material-UI の導入と型設定
## 3. ヘッダーとレイアウトの構築
## 4. メッセージ入力フォームの作成
## 5. 基本的な状態管理の実装

※今回は TypeScript で型安全なチャットアプリを一から作成します．

<style>
h2 {
  margin-bottom: .5rem;
}
</style>

---

# 1. TypeScript プロジェクトのセットアップ

## 1.1 TypeScript React プロジェクトの作成

<div grid="~ cols-2 gap-4">
<div>

```bash
# TypeScript テンプレートでプロジェクトを作成
npm create vite@latest my-chat -- --template react-ts

# プロジェクトディレクトリに移動
cd my-chat

# 依存関係をインストール
npm install
```

</div>
<div>

📝 **TypeScript の利点：**
- コンパイル時の型チェック
- IDE での強力な自動補完
- リファクタリングの安全性
- ランタイムエラーの削減

</div>
</div>

---

## 1.2 必要なライブラリのインストール

<div grid="~ cols-2 gap-4">
<div>

```bash
# UI ライブラリ
npm install @mui/material @emotion/react @emotion/styled

# アイコン
npm install @mui/icons-material

# TypeScript 型定義（必要に応じて）
npm install --save-dev @types/node
```

</div>
<div>

📝 **各ライブラリの役割：**
- **Material-UI**: TypeScript 対応の UI コンポーネント
- **Emotion**: CSS-in-JS ライブラリ（MUI の依存関係）
- **@types/node**: Node.js の型定義

</div>
</div>

---

## 1.3 開発サーバーの起動と確認

<div grid="~ cols-2 gap-4">
<div>

```bash
# 開発サーバーを起動
npm run dev
```

ブラウザで `http://localhost:5173` にアクセスして，TypeScript + React のデフォルト画面が表示されることを確認します．

</div>
<div>

✅ **確認事項：**
- TypeScript コンパイルが正常に動作する
- ブラウザでページが表示される
- コンソールにエラーが出ていない
- HMR（Hot Module Replacement）が動作する

</div>
</div>

---

# 2. Material-UI の導入と型設定

## 2.1 Material-UI の基本セットアップ

<div grid="~ cols-2 gap-4">
<div>

```tsx
// src/main.tsx
import { StrictMode } from 'react';
import { createRoot } from 'react-dom/client';
import { createTheme, ThemeProvider } from '@mui/material/styles';
import { CssBaseline } from '@mui/material';
import App from './App';
import './index.css';

// Material-UI テーマの設定
const theme = createTheme({
  palette: {
    primary: {
      main: '#3B82F6',
    },
    secondary: {
      main: '#10B981',
    },
  },
});
```

</div>
<div>

```tsx
createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <ThemeProvider theme={theme}>
      <CssBaseline />
      <App />
    </ThemeProvider>
  </StrictMode>
);
```

📝 **設定のポイント：**
- `CssBaseline`: CSS のリセット
- `ThemeProvider`: テーマの一元管理
- カスタムカラーパレット: プライマリ（青）とセカンダリ（緑）
- TypeScript が自動的に Material-UI の型を認識

</div>
</div>

---

## 2.2 テーマのカスタマイズ

必要に応じてテーマを拡張できます：

```diff
  const theme = createTheme({
    palette: {
      primary: {
        main: '#3B82F6',
+       light: '#60A5FA',
+       dark: '#2563EB',
      },
      secondary: {
        main: '#10B981',
+       light: '#34D399',
+       dark: '#059669',
      },
+     background: {
+       default: 'linear-gradient(135deg, #F0F9FF 0%, #ECFDF5 100%)',
+       paper: 'rgba(255, 255, 255, 0.95)',
+     },
    },
  });
```

※これはあくまで参考例です．適宜更新します．

---

## 2.3 基本的なヘッダーの作成

<div grid="~ cols-2 gap-4">
<div>

```tsx
// src/App.tsx
import {
  Container,
  Typography,
  Box,
  Paper,
} from '@mui/material';
import './App.css';

const App = () => {
  return (
（続く）
```

</div>
<div>

```tsx
（続き）
    <Box sx={{ minHeight: '100vh' }}>
      <Container maxWidth="md">
        {/* ヘッダー */}
        <Paper elevation={3}>
          <Box sx={{ textAlign: 'center' }}>
            <Typography variant="h3">
              💬 チャットアプリ
            </Typography>
            <Typography variant="subtitle1">
              今の気持ちをシェアしよう
            </Typography>
          </Box>
        </Paper>
      </Container>
    </Box>
  );
};

export default App;
```

</div>
</div>

---

## 2.4 レスポンシブ対応の追加

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/App.tsx
  const App = () => {
    return (
-     <Box sx={{ minHeight: '100vh' }}>
-       <Container maxWidth="md">
+     <Box
+       sx={{
+         minHeight: '100vh',
+         py: { xs: 1, sm: 2 },
+         px: { xs: 1, sm: 2 },
+       }}
+     >
+       <Container
+         maxWidth="md"
+         sx={{
+           maxWidth: { xs: '100%', sm: '720px' },
+           px: { xs: 0, sm: 3 }
+         }}
+       >
```

</div>
<div>

```diff
// src/App.tsx
          {/* ヘッダー */}
-         <Paper elevation={3}>
+         <Paper
+           elevation={3}
+           sx={{
+             borderRadius: { xs: 0, sm: 4 },
+             overflow: 'hidden',
+             mb: { xs: 2, sm: 3 },
+           }}
+         >
            <Box
-             sx={{ textAlign: 'center' }}
+             sx={{
+               py: { xs: 2, sm: 3 },
+               px: { xs: 2, sm: 3 },
+               textAlign: 'center',
+             }}
            >
```

</div>
</div>

---

## 2.5 ヘッダーのレスポンシブ対応

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/App.tsx
            <Typography
              variant="h3"
+               sx={{
+                 mb: 1,
+                 fontSize: {
+                   xs: '1.5rem',
+                   sm: '2rem',
+                   md: '3rem'
+                 },
+               }}
+             >
                💬 チャットアプリ
              </Typography>
-             <Typography variant="subtitle1">
+             <Typography
+               variant="subtitle1"
+               sx={{
+                 fontSize: {
+                   xs: '0.9rem',
+                   sm: '1rem'
+                 },
+               }}
```

</div>
<div>

📝 **レスポンシブ設計：**
- `xs`, `sm`, `md` でブレイクポイントを指定
- フォントサイズやスペーシングを画面サイズに応じて調整
- TypeScript が各プロパティの型をチェック

</div>
</div>

---

## 2.6 テーマカラーの取得

テーマから色を取得して使いやすくします：

<div grid="~ cols-2 gap-4">
<div>

```diff
// src/App.tsx
  import {
    Container,
    Typography,
    Box,
    Paper,
+   useTheme,
  } from '@mui/material';
  import './App.css';

  const App = () => {
+   const theme = useTheme();
+   const colors = {
+     gradient: `linear-gradient(135deg, ${theme.palette.primary.main} 0%, ${theme.palette.secondary.main} 100%)`,
+   };
+
    return (
```

</div>
<div>

```diff
            <Box
              sx={{
+               background: colors.gradient,
+               color: 'white',
                py: { xs: 2, sm: 3 },
                px: { xs: 2, sm: 3 },
                textAlign: 'center',
              }}
            >
```

📝 **テーマ活用のポイント：**
- `useTheme()` でテーマオブジェクトを取得
- `theme.palette` から色を取得
- まずは必要最小限の primary のみ定義
- 後で必要に応じて追加していく

</div>
</div>

---

## 2.7 次回の予定

次回は実際のメッセージ機能を実装します：

**次回実装予定：**
- 型定義ファイル（types.ts）の作成
- メッセージ投稿機能の実装
- メッセージ一覧表示機能
- 削除機能の実装
- バリデーション機能の追加

---
layout: section
---

# お疲れさまでした！ 🎉

## 次回はメッセージ機能を実装します！